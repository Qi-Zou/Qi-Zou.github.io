<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>nginx访问速度与并发数的限制</title>
      <link href="/2022/01/10/nginx%E8%AE%BF%E9%97%AE%E9%80%9F%E5%BA%A6%E4%B8%8E%E5%B9%B6%E5%8F%91%E6%95%B0%E7%9A%84%E9%99%90%E5%88%B6/"/>
      <url>/2022/01/10/nginx%E8%AE%BF%E9%97%AE%E9%80%9F%E5%BA%A6%E4%B8%8E%E5%B9%B6%E5%8F%91%E6%95%B0%E7%9A%84%E9%99%90%E5%88%B6/</url>
      
        <content type="html"><![CDATA[<h1 id="限制并发数"><a href="#限制并发数" class="headerlink" title="限制并发数"></a>限制并发数</h1><p>在nginx的配置文件中添加如下配置：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">http&#123;</span><br><span class="line">    limit_conn_zone $binary_remote_addr zone=one:10m;</span><br><span class="line">    ...</span><br><span class="line">    service&#123;</span><br><span class="line">        ...</span><br><span class="line">        location xxx&#123;</span><br><span class="line">            limit_conn one 1;</span><br><span class="line">            ...</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://s2.loli.net/2022/01/10/zdIQgU5R2BDPyoG.png" alt="20220110133505"><br>这里设置的并发数为 1，表示同一个ip的并发访问数为1 配置好后，重启nginx即可。</p><h1 id="限制访问速度"><a href="#限制访问速度" class="headerlink" title="限制访问速度"></a>限制访问速度</h1><p>在nginx配置文件中添加如下配置：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">location xxx &#123;</span><br><span class="line">    limit_rate 100k;</span><br><span class="line">    ...</span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure><p><img src="https://s2.loli.net/2022/01/10/HusKzPQwWaByOgc.png" alt="20220110133605"><br>重启nginx后，可以发现下载速度，确实被限制在 100k/s 左右<br><img src="https://s2.loli.net/2022/01/10/GvflQEUB6p8F7r9.png" alt="20220110133620"></p><h1 id="扩展"><a href="#扩展" class="headerlink" title="扩展"></a>扩展</h1><p>这里介绍的是对单个ip进行访问限制，如果说想对总的访问进行限制，可以尝试使用如下方式：</p><blockquote><p>通过nginx的请求转发功能，将所有的请求转发到另外一个端口，而后直接对图示中8889端口进行如上的限制即可<br><img src="https://s2.loli.net/2022/01/10/1awvyOJbl4WqIRM.png" alt="20220110133657"></p></blockquote><p>配置入下：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line">limit_conn_zone $binary_remote_addr zone=one:10m;</span><br><span class="line">    server &#123;</span><br><span class="line">        listen 8888;</span><br><span class="line">        server_name localhost;</span><br><span class="line">    ...</span><br><span class="line">        location ~/grouptest/M0[0-9] &#123;</span><br><span class="line">            proxy_pass http://&lt;本机ip&gt;:8889;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    server &#123;</span><br><span class="line">        listen 8889;</span><br><span class="line">        server_name localhost;</span><br><span class="line">        location xxx &#123;</span><br><span class="line">            limit_conn one 1;</span><br><span class="line">        ...</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">...</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> nginx </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>各中间件的exporter监控对接到prometheus</title>
      <link href="/2022/01/10/%E5%90%84%E4%B8%AD%E9%97%B4%E4%BB%B6%E7%9A%84exporter%E7%9B%91%E6%8E%A7%E5%AF%B9%E6%8E%A5%E5%88%B0prometheus/"/>
      <url>/2022/01/10/%E5%90%84%E4%B8%AD%E9%97%B4%E4%BB%B6%E7%9A%84exporter%E7%9B%91%E6%8E%A7%E5%AF%B9%E6%8E%A5%E5%88%B0prometheus/</url>
      
        <content type="html"><![CDATA[<h1 id="各中间件exporter对接到prometheus的方式"><a href="#各中间件exporter对接到prometheus的方式" class="headerlink" title="各中间件exporter对接到prometheus的方式"></a>各中间件exporter对接到prometheus的方式</h1><p>监控原理：使用prometheus监控各类中间件，则需要部署对应中间件的exporter，再将exporter暴露的指标地址告知prometheus即可<br>首先我们需要知道如何将暴露的地址告知prometheus，主要有如下集中方式：</p><ol><li>修改prometheus配置文件的方式</li><li>修改静态文件的方式</li><li>使用httpd方式</li><li>使用注册中心的方式</li></ol><p>这里只提到修改prometheus配置文件的方式和静态文件的方式（其他方式可以阅读prometheus的官网）</p><p>修改prometheus配置文件如下内容:</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">scrape_configs:</span></span><br><span class="line"><span class="bullet">-</span> <span class="attr">job_name:</span> <span class="string">&#x27;node_exporter&#x27;</span> </span><br><span class="line">    <span class="attr">scrape_interval:</span> <span class="string">8s</span>     <span class="comment"># 采集时间间隔</span></span><br><span class="line">    <span class="attr">file_sd_configs:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">files:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">node_exporter.json</span>  <span class="comment"># 指定静态配置文件</span></span><br><span class="line">      <span class="attr">refresh_interval:</span> <span class="string">10s</span> <span class="comment"># 刷新配置文件</span></span><br><span class="line"></span><br><span class="line"><span class="bullet">-</span> <span class="attr">job_name:</span> <span class="string">&#x27;redis_exporter&#x27;</span> </span><br><span class="line">    <span class="attr">scrape_interval:</span> <span class="string">8s</span>     <span class="comment"># 采集时间间隔</span></span><br><span class="line">    <span class="attr">file_sd_configs:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">files:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">redis_exporter.json</span>  <span class="comment"># 指定静态配置文件</span></span><br><span class="line">      <span class="attr">refresh_interval:</span> <span class="string">10s</span> <span class="comment"># 刷新配置文件</span></span><br><span class="line"></span><br><span class="line"><span class="bullet">-</span> <span class="attr">job_name:</span> <span class="string">&#x27;mysql_exporter&#x27;</span> </span><br><span class="line">    <span class="attr">scrape_interval:</span> <span class="string">8s</span>     <span class="comment"># 采集时间间隔</span></span><br><span class="line">    <span class="attr">file_sd_configs:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">files:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">mysql_exporter.json</span>  <span class="comment"># 指定静态配置文件</span></span><br><span class="line">      <span class="attr">refresh_interval:</span> <span class="string">10s</span> <span class="comment"># 刷新配置文件</span></span><br><span class="line"></span><br><span class="line"><span class="bullet">-</span> <span class="attr">job_name:</span> <span class="string">&#x27;zookeeper_exporter&#x27;</span> </span><br><span class="line">    <span class="attr">scrape_interval:</span> <span class="string">8s</span>     <span class="comment"># 采集时间间隔</span></span><br><span class="line">    <span class="attr">file_sd_configs:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">files:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">zookeeper_exporter.json</span>  <span class="comment"># 指定静态配置文件</span></span><br><span class="line">      <span class="attr">refresh_interval:</span> <span class="string">10s</span> <span class="comment"># 刷新配置文件</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ....以此类推，得出其他中间件exporter的配置</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 其中特殊exporter的配置如下</span></span><br><span class="line"><span class="bullet">-</span> <span class="attr">job_name:</span> <span class="string">&#x27;blackbox-exporter&#x27;</span></span><br><span class="line">    <span class="attr">metrics_path:</span> <span class="string">/probe</span></span><br><span class="line">    <span class="attr">params:</span></span><br><span class="line">      <span class="attr">module:</span> [<span class="string">icmp</span>]  <span class="comment"># 网络探测类型</span></span><br><span class="line">    <span class="attr">static_configs:</span></span><br><span class="line"><span class="comment"># 探测目标节点</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">targets:</span> [<span class="string">&#x27;172.18.40.xxx&#x27;</span>,<span class="string">&#x27;172.18.40.xx1&#x27;</span>,<span class="string">&#x27;172.18.40.xx3&#x27;</span>,<span class="string">&#x27;172.18.40.xx4&#x27;</span>,<span class="string">&#x27;172.18.40.xx5&#x27;</span>]</span><br><span class="line">        <span class="attr">labels:</span></span><br><span class="line">          <span class="attr">group:</span> <span class="string">&#x27;172.26.42.123&#x27;</span>  <span class="comment"># 自定义标签</span></span><br><span class="line">    <span class="attr">relabel_configs:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">source_labels:</span> [<span class="string">__address__</span>]</span><br><span class="line">        <span class="attr">target_label:</span> <span class="string">__param_target</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">source_labels:</span> [<span class="string">__param_target</span>]</span><br><span class="line">        <span class="attr">target_label:</span> <span class="string">instance</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">target_label:</span> <span class="string">__address__</span></span><br><span class="line">        <span class="attr">replacement:</span> <span class="number">172.26</span><span class="number">.42</span><span class="number">.123</span><span class="string">:9115</span>  <span class="comment"># blackbox-exporter 真实部署的服务器地址 ip:port</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>而这些静态配置文件的格式如下：这里以node_exporter.json为例</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">&quot;targets&quot;</span>: [</span><br><span class="line">            <span class="string">&quot;172.18.40.xxx:9100&quot;</span></span><br><span class="line">        ],</span><br><span class="line">        <span class="attr">&quot;labels&quot;</span>: &#123;</span><br><span class="line">            <span class="attr">&quot;acc&quot;</span>: <span class="string">&quot;acc1/acc2&quot;</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">&quot;targets&quot;</span>: [</span><br><span class="line">            <span class="string">&quot;172.18.40.xx1:9100&quot;</span></span><br><span class="line">        ],</span><br><span class="line">        <span class="attr">&quot;labels&quot;</span>: &#123;</span><br><span class="line">            <span class="attr">&quot;acc&quot;</span>: <span class="string">&quot;acc2/acc3&quot;</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure><p>以上将部署的exporter服务告知prometheus的配置方式，配置好后，重启prometheus即可。</p><h1 id="部署各类中间件的exporter"><a href="#部署各类中间件的exporter" class="headerlink" title="部署各类中间件的exporter"></a>部署各类中间件的exporter</h1><h2 id="Mysql-exporter"><a href="#Mysql-exporter" class="headerlink" title="Mysql-exporter"></a>Mysql-exporter</h2><ul><li><strong>部署启动</strong>  首先填写mysql相关的配置，保存在 my.cnf文件中  <figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[<span class="string">client</span>]</span><br><span class="line"><span class="string">host=127.0.0.1</span></span><br><span class="line"><span class="string">port=3306</span></span><br><span class="line"><span class="string">user=exporter</span></span><br><span class="line"><span class="string">password=123456</span></span><br></pre></td></tr></table></figure>  然后，启动mysql-exporter，并通过config.my-cnf指定上面的配置文件  <figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 默认参数启动</span></span><br><span class="line"><span class="string">./mysqld_exporter</span>  <span class="string">--config.my-cnf=/usr/local/prometheus/mysqld_exporter-0.12.1.linux-amd64/my.cnf</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 详细的参数</span></span><br><span class="line"><span class="string">./mysqld_exporter</span> <span class="string">--web.listen-address=0.0.0.0:9104</span> <span class="string">--config.my-cnf=/usr/local/prometheus/mysqld_exporter-0.12.1.linux-amd64/my.cnf</span> <span class="string">--collect.slave_status</span> <span class="string">--collect.slave_hosts</span> <span class="string">--log.level=error</span>  <span class="string">--collect.info_schema.processlist</span> <span class="string">--collect.info_schema.innodb_metrics</span> <span class="string">--collect.info_schema.innodb_tablespaces</span> <span class="string">--collect.info_schema.innodb_cmp</span> <span class="string">--collect.info_schema.innodb_cmpmem</span></span><br></pre></td></tr></table></figure></li></ul><h2 id="redis-exporter"><a href="#redis-exporter" class="headerlink" title="redis-exporter"></a>redis-exporter</h2><p><strong>部署启动</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./redis_exporter  -redis.addr 127.0.0.1:6379  -redis.password 123456 -web.listen-address 0.0.0.0:9121</span><br></pre></td></tr></table></figure><h2 id="nginx-prometheus-exporter"><a href="#nginx-prometheus-exporter" class="headerlink" title="nginx-prometheus-exporter"></a>nginx-prometheus-exporter</h2><p><strong>前提条件</strong></p><p>使用nginx-prometheus-exporter监控nginx时，该nginx必须要开启stub_status功能</p><p>开启 NGINX stub_status 功能</p><ol><li>开源 Nginx 提供一个简单页面用于展示状态数据，该页面由 <a href="http://nginx.org/en/docs/http/ngx_http_stub_status_module.html">tub_status</a> 模块提供。执行以下命令检查 Nginx 是否已经开启了该模块： <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nginx -V 2&gt;&amp;1 | grep -o with-http_stub_status_module</span><br></pre></td></tr></table></figure><ul><li>如果在终端中输出 <code>with-http_stub_status_module</code> ，则说明 Nginx 已启用 tub_status 模块。</li><li>如果未输出任何结果，则可以使用 <code>-with-http_stub_status_module</code> 参数从源码重新配置编译一个 Nginx。示例如下：  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">./configure \</span><br><span class="line">… \</span><br><span class="line">--with-http_stub_status_module</span><br><span class="line">make</span><br><span class="line">sudo make install</span><br></pre></td></tr></table></figure></li></ul></li><li>确认 stub_status 模块启用之后，修改 Nginx 的配置文件指定 status 页面的 URL。示例如下： <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">server &#123;</span><br><span class="line">    location /nginx_status &#123;</span><br><span class="line">        stub_status;</span><br><span class="line"></span><br><span class="line">        access_log off;</span><br><span class="line">        allow 127.0.0.1;</span><br><span class="line">        deny all;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li>检查并重新加载 nginx 的配置使其生效。 <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">nginx -t</span><br><span class="line">nginx -s reload</span><br></pre></td></tr></table></figure></li><li>完成上述步之后，可以通过配置的 URL 查看 Nginx 的指标： <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Active connections: 45</span><br><span class="line">server accepts handled requests</span><br><span class="line">1056958 1156958 4491319</span><br><span class="line">Reading: 0 Writing: 25 Waiting : 7</span><br></pre></td></tr></table></figure></li></ol><p><strong>部署启动</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nginx-prometheus-exporter -nginx.scrape-uri=http://&lt;nginx&gt;:8080/stub_status</span><br></pre></td></tr></table></figure><h2 id="zookeeper-exporter"><a href="#zookeeper-exporter" class="headerlink" title="zookeeper-exporter"></a>zookeeper-exporter</h2><p><strong>启动</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./zookeeper_exporter -zookeeper 127.0.0.1:2181 -bind-addr :9143</span><br></pre></td></tr></table></figure><h2 id="elasticsearch-exporter"><a href="#elasticsearch-exporter" class="headerlink" title="elasticsearch-exporter"></a>elasticsearch-exporter</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## 参数说明：</span></span><br><span class="line">--es.uri         　　　　默认http://localhost:9200，连接到的Elasticsearch节点的地址（主机和端口）。 这可以是本地节点（例如localhost：9200），也可以是远程Elasticsearch服务器的地址</span><br><span class="line">--es.all                默认flase，如果为<span class="literal">true</span>，则查询群集中所有节点的统计信息，而不仅仅是查询我们连接到的节点。</span><br><span class="line">--es.cluster_settings   默认flase，如果为<span class="literal">true</span>，请在统计信息中查询集群设置</span><br><span class="line">--es.indices            默认flase，如果为<span class="literal">true</span>，则查询统计信息以获取集群中的所有索引。</span><br><span class="line">--es.indices_settings   默认flase，如果为<span class="literal">true</span>，则查询集群中所有索引的设置统计信息。</span><br><span class="line">--es.shards             默认flase，如果为<span class="literal">true</span>，则查询集群中所有索引的统计信息，包括分片级统计信息（意味着es.indices = <span class="literal">true</span>）。</span><br><span class="line">--es.snapshots          默认flase，如果为<span class="literal">true</span>，则查询集群快照的统计信息。</span><br></pre></td></tr></table></figure><p><strong>部署启动</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># es集群1：10.xxx.xxx.10:9200</span></span><br><span class="line">./elasticsearch_exporter --es.all --es.indices --es.cluster_settings --es.indices_settings --es.shards --es.snapshots --es.timeout=10s --web.listen-address=<span class="string">&quot;:9114&quot;</span> --web.telemetry-path=<span class="string">&quot;/metrics&quot;</span> --es.uri http://10.xxx.xxx.10:9200</span><br><span class="line"></span><br><span class="line"><span class="comment"># 如果es集群开启了x-pack验证则可以使用如下</span></span><br><span class="line">./elasticsearch_exporter --es.all --es.indices --es.cluster_settings --es.indices_settings --es.shards --es.snapshots  --es.uri http://用户名:密码@111.xxx.xxx.6:9200</span><br></pre></td></tr></table></figure><h2 id="kafka-exporter"><a href="#kafka-exporter" class="headerlink" title="kafka-exporter"></a>kafka-exporter</h2><p><strong>部署启动</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./kafka_exporter --web.listen-address=9308 --kafka.server=kafka:9092 [--kafka.server=another-server ...]</span><br></pre></td></tr></table></figure><p>Grafana Dashboard ID: 7589, name: Kafka Exporter Overview.</p><h2 id="postgresql-exporter"><a href="#postgresql-exporter" class="headerlink" title="postgresql-exporter"></a>postgresql-exporter</h2><p><strong>部署启动</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">./postgres_exporter &lt;flags&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 举例</span></span><br><span class="line"><span class="comment"># 设置环境变量</span></span><br><span class="line">DATA_SOURCE_NAME=<span class="string">&quot;postgresql://postgres:password@localhost:5432/postgres?sslmode=disable&quot;</span></span><br><span class="line"><span class="comment"># 启动，指定端口</span></span><br><span class="line">./postgres_exporter --web.listen-address=9187</span><br></pre></td></tr></table></figure><h3 id="Flags"><a href="#Flags" class="headerlink" title="Flags"></a><strong>Flags</strong></h3><ul><li><code>help</code> Show context-sensitive help (also try –help-long and –help-man).</li><li><code>web.listen-address</code> Address to listen on for web interface and telemetry. Default is <code>:9187</code>.</li><li><code>web.telemetry-path</code> Path under which to expose metrics. Default is <code>/metrics</code>.</li><li><code>disable-default-metrics</code> Use only metrics supplied from <code>queries.yaml</code> via <code>-extend.query-path</code>.</li><li><code>disable-settings-metrics</code> Use the flag if you don’t want to scrape <code>pg_settings</code>.</li><li><code>auto-discover-databases</code> Whether to discover the databases on a server dynamically.</li><li><code>extend.query-path</code> Path to a YAML file containing custom queries to run. Check out <code>[queries.yaml](https://github.com/prometheus-community/postgres_exporter/blob/master/queries.yaml)</code> for examples of the format.</li><li><code>dumpmaps</code> Do not run - print the internal representation of the metric maps. Useful when debugging a custom queries file.</li><li><code>constantLabels</code> Labels to set in all metrics. A list of <code>label=value</code> pairs, separated by commas.</li><li><code>version</code> Show application version.</li><li><code>exclude-databases</code> A list of databases to remove when autoDiscoverDatabases is enabled.</li><li><code>include-databases</code> A list of databases to only include when autoDiscoverDatabases is enabled.</li><li><code>log.level</code> Set logging level: one of <code>debug</code>, <code>info</code>, <code>warn</code>, <code>error</code>.</li><li><code>log.format</code> Set the log format: one of <code>logfmt</code>, <code>json</code>.</li><li><code>web.config.file</code> Configuration file to use TLS and/or basic authentication. The format of the file is described <a href="https://github.com/prometheus/exporter-toolkit/blob/master/docs/web-configuration.md">in the exporter-toolkit repository</a>.</li></ul><h3 id="Environment-Variables"><a href="#Environment-Variables" class="headerlink" title="Environment Variables"></a><strong>Environment Variables</strong></h3><p>The following environment variables configure the exporter:</p><ul><li><code>DATA_SOURCE_NAME</code> the default legacy format. Accepts URI form and key=value form arguments. The URI may contain the username and password to connect with.</li><li><code>DATA_SOURCE_URI</code> an alternative to <code>DATA_SOURCE_NAME</code> which exclusively accepts the hostname without a username and password component. For example, <code>my_pg_hostname</code> or <code>my_pg_hostname?sslmode=disable</code>.</li><li><code>DATA_SOURCE_URI_FILE</code> The same as above but reads the URI from a file.</li><li><code>DATA_SOURCE_USER</code> When using <code>DATA_SOURCE_URI</code>, this environment variable is used to specify the username.</li><li><code>DATA_SOURCE_USER_FILE</code> The same, but reads the username from a file.</li><li><code>DATA_SOURCE_PASS</code> When using <code>DATA_SOURCE_URI</code>, this environment variable is used to specify the password to connect with.</li><li><code>DATA_SOURCE_PASS_FILE</code> The same as above but reads the password from a file.</li><li><code>PG_EXPORTER_WEB_LISTEN_ADDRESS</code> Address to listen on for web interface and telemetry. Default is <code>:9187</code>.</li><li><code>PG_EXPORTER_WEB_TELEMETRY_PATH</code> Path under which to expose metrics. Default is <code>/metrics</code>.</li><li><code>PG_EXPORTER_DISABLE_DEFAULT_METRICS</code> Use only metrics supplied from <code>queries.yaml</code>. Value can be <code>true</code> or <code>false</code>. Default is <code>false</code>.</li><li><code>PG_EXPORTER_DISABLE_SETTINGS_METRICS</code> Use the flag if you don’t want to scrape <code>pg_settings</code>. Value can be <code>true</code> or <code>false</code>. Default is <code>false</code>.</li><li><code>PG_EXPORTER_AUTO_DISCOVER_DATABASES</code> Whether to discover the databases on a server dynamically. Value can be <code>true</code> or <code>false</code>. Default is <code>false</code>.</li><li><code>PG_EXPORTER_EXTEND_QUERY_PATH</code> Path to a YAML file containing custom queries to run. Check out <code>[queries.yaml](https://github.com/prometheus-community/postgres_exporter/blob/master/queries.yaml)</code> for examples of the format.</li><li><code>PG_EXPORTER_CONSTANT_LABELS</code> Labels to set in all metrics. A list of <code>label=value</code> pairs, separated by commas.</li><li><code>PG_EXPORTER_EXCLUDE_DATABASES</code> A comma-separated list of databases to remove when autoDiscoverDatabases is enabled. Default is empty string.</li><li><code>PG_EXPORTER_INCLUDE_DATABASES</code> A comma-separated list of databases to only include when autoDiscoverDatabases is enabled. Default is empty string, means allow all.</li><li><code>PG_EXPORTER_METRIC_PREFIX</code> A prefix to use for each of the default metrics exported by postgres-exporter. Default is <code>pg</code></li></ul><h2 id="bind-exporter"><a href="#bind-exporter" class="headerlink" title="bind-exporter"></a>bind-exporter</h2><p><strong>部署启动</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">./bind_exporter \</span><br><span class="line">    --bind.pid-file=/var/run/named/named.pid \</span><br><span class="line">    --bind.timeout=20s \</span><br><span class="line">    --web.listen-address=0.0.0.0:9153 \</span><br><span class="line">    --web.telemetry-path=/metrics \</span><br><span class="line">    --bind.stats-url=http://localhost:8053/ \</span><br><span class="line">    --bind.stats-groups=server,view,tasks</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> prometheus </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 云监控 </tag>
            
            <tag> prometheus </tag>
            
            <tag> exporter </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hexo butterfly 主题搜索框问题解决</title>
      <link href="/2022/01/10/hexo-butterfly-%E4%B8%BB%E9%A2%98%E6%90%9C%E7%B4%A2%E6%A1%86%E9%97%AE%E9%A2%98%E8%A7%A3%E5%86%B3/"/>
      <url>/2022/01/10/hexo-butterfly-%E4%B8%BB%E9%A2%98%E6%90%9C%E7%B4%A2%E6%A1%86%E9%97%AE%E9%A2%98%E8%A7%A3%E5%86%B3/</url>
      
        <content type="html"><![CDATA[<h1 id="问题说明"><a href="#问题说明" class="headerlink" title="问题说明"></a>问题说明</h1><p>hexo 本地启动个人博客，访问没有任何问题，但是发布到github后，就会出现搜索框跑到界面的最下方<br><img src="https://s2.loli.net/2022/01/10/w8VWauQoRDkdi2p.png" alt="20220110085037"></p><h1 id="解决办法"><a href="#解决办法" class="headerlink" title="解决办法"></a>解决办法</h1><p>通过查询资料，发现是自己没有在本地执行 <code>hexo clean</code>操作导致的；<br>参考网址：<a href="https://github.com/jerryc127/hexo-theme-butterfly/issues/101">https://github.com/jerryc127/hexo-theme-butterfly/issues/101</a><br><img src="https://s2.loli.net/2022/01/10/u587eHsJTXi9tOK.png" alt="20220110084225"></p>]]></content>
      
      
      
        <tags>
            
            <tag> 个人博客问题 </tag>
            
            <tag> butterfly </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>picgo配合SMMS构建自己免费的图床</title>
      <link href="/2022/01/07/picgo%E9%85%8D%E5%90%88SMMS%E6%9E%84%E5%BB%BA%E8%87%AA%E5%B7%B1%E5%85%8D%E8%B4%B9%E7%9A%84%E5%9B%BE%E5%BA%8A/"/>
      <url>/2022/01/07/picgo%E9%85%8D%E5%90%88SMMS%E6%9E%84%E5%BB%BA%E8%87%AA%E5%B7%B1%E5%85%8D%E8%B4%B9%E7%9A%84%E5%9B%BE%E5%BA%8A/</url>
      
        <content type="html"><![CDATA[<h1 id="在SMMS中注册账户"><a href="#在SMMS中注册账户" class="headerlink" title="在SMMS中注册账户"></a>在SMMS中注册账户</h1><ol><li><p>注册账户，smms的访问地址： <a href="https://sm.ms/">https://sm.ms/</a></p></li><li><p>注册好之后，获取smms中的token值<br><img src="https://s2.loli.net/2022/01/07/ha8fmXuCFEv5QBg.png" alt="20220107171943"></p></li></ol><h1 id="在vsCode中使用picGo"><a href="#在vsCode中使用picGo" class="headerlink" title="在vsCode中使用picGo"></a>在vsCode中使用picGo</h1><ol><li><p>安装picGo插件<br><img src="https://s2.loli.net/2022/01/07/deWqRhsKSLGtYcC.png" alt="20220107172133"></p></li><li><p>修改配置，搜索smms，填写自己的smms中的token值<br><img src="https://s2.loli.net/2022/01/07/1qBlGF5Wj9N2cyQ.png" alt="20220107172339"></p></li><li><p>保存后，即可上传文件，操作如下：</p><p> ① 截图操作后，图片保存在了粘贴板中</p><p> ② mac 用户的上传图片的快捷键是：option + command + u </p> <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">windowns 用户上传图片的快捷键：ctrl + alt + u</span><br></pre></td></tr></table></figure><p> ③ 上传后，vscode界面的又下角可看到如下浮动窗口<br> <img src="https://s2.loli.net/2022/01/07/UCAwFmLlMVyqbvE.png" alt="20220107173047"></p><p> ④ 并在smms中可以看到上传的图片<br> <img src="https://s2.loli.net/2022/01/07/TxtDJSEngwjsbXo.png" alt="20220107173128"></p></li></ol><h1 id="参考网址"><a href="#参考网址" class="headerlink" title="参考网址"></a>参考网址</h1><p>【图床搭配 PicGo：打造高效的图片处理工作流】<a href="https://sspai.com/post/65716">https://sspai.com/post/65716</a><br>【比PicGo更好用的是VSCode里的PicGo插件】<a href="https://kouss.com/2019-7-11">https://kouss.com/2019-7-11</a><br>【SMMS网址】<a href="https://sm.ms/">https://sm.ms/</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> picgo </tag>
            
            <tag> 图床 </tag>
            
            <tag> SMMS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>【BUG记录】Java连接mysql数据库报错：Communications link failure</title>
      <link href="/2022/01/07/Java%E8%BF%9E%E6%8E%A5mysql%E6%95%B0%E6%8D%AE%E5%BA%93%E6%8A%A5%E9%94%99%EF%BC%9ACommunications-link-failure/"/>
      <url>/2022/01/07/Java%E8%BF%9E%E6%8E%A5mysql%E6%95%B0%E6%8D%AE%E5%BA%93%E6%8A%A5%E9%94%99%EF%BC%9ACommunications-link-failure/</url>
      
        <content type="html"><![CDATA[<h1 id="问题描述"><a href="#问题描述" class="headerlink" title="问题描述"></a>问题描述</h1><p>java项目（springboot）连接mysql出现如下错误：</p><p><img src="image-20220107152352681.png" alt="image-20220107152352681"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Caused by: com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure</span><br></pre></td></tr></table></figure><p>项目中配置的jdbc连接地址如下：</p><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">druid.url</span>=<span class="string">jdbc:log4jdbc:mysql://172.18.xxx.xxx:3306/xxxxdb?useUnicode=true&amp;characterEncoding=utf8&amp;serverTimezone=UTC</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>但是通过navicat等工具可以正常的连接</p><p><img src="image-20220107152618747.png" alt="image-20220107152618747"></p><h1 id="原因"><a href="#原因" class="headerlink" title="原因"></a>原因</h1><p>查了很多资料，发现在MySQL5.7之前的版本，安全性较低，存在任何用户都可以连接上的 test 库，所以官方在5.7版本加大了对隐私的保护。并且采用了默认 useSSL = true值防止对数据库的随意修改，到了8.0版本，仍然保留了SSL，并且默认值为 true，所以只要将 “?useSSL= false” 放在url表名后即可</p><h1 id="解决办法"><a href="#解决办法" class="headerlink" title="解决办法"></a>解决办法</h1><p>在配置的jdbc连接地址末尾带上如下参数即可：</p><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&amp;useSSL</span>=<span class="string">false</span></span><br></pre></td></tr></table></figure><p>例如：</p><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">druid.url</span>=<span class="string">jdbc:log4jdbc:mysql://172.18.xxx.xxx:3306/xxxxdb?useUnicode=true&amp;characterEncoding=utf8&amp;serverTimezone=UTC&amp;useSSL=false</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> mysql </tag>
            
            <tag> jdbc </tag>
            
            <tag> BUG </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>各系统下无限重置IDEA试用版本</title>
      <link href="/2022/01/07/%E5%90%84%E7%B3%BB%E7%BB%9F%E4%B8%8B%E6%97%A0%E9%99%90%E9%87%8D%E7%BD%AEIDEA%E8%AF%95%E7%94%A8%E7%89%88%E6%9C%AC/"/>
      <url>/2022/01/07/%E5%90%84%E7%B3%BB%E7%BB%9F%E4%B8%8B%E6%97%A0%E9%99%90%E9%87%8D%E7%BD%AEIDEA%E8%AF%95%E7%94%A8%E7%89%88%E6%9C%AC/</url>
      
        <content type="html"><![CDATA[<h1 id="在Ubuntu（linux）下重置"><a href="#在Ubuntu（linux）下重置" class="headerlink" title="在Ubuntu（linux）下重置"></a>在Ubuntu（linux）下重置</h1><p>先说一下原理，在2021.2.3版本之前，我们本机使用IDEA是不需要登录什么账户的，因此IDEA无法讲试用时间的限制放在云端，也就是说，IDEA的试用时间的限制数据是放在我们本地的，只需要找到IDEA存放在我们<strong>本地的时间限制数据</strong>，并删掉就可以重置试用时间；下面就开始吧。</p><ol><li><p>第一步，我们需要找到IDEA 的数据存放在哪儿</p><p>经过一番寻找，终于到找了，数据目录在我们用户目录下的 .config/JetBrains/ 目录下：</p><p><img src="image-20220107120704640.png" alt="image-20220107120704640"></p></li><li><p><del>由于没办法区分那些文件是用来存放时间限制的，我们可以一把全部删掉，相当于重新安装</del></p><p><img src="image-20220107120725543.png" alt="image-20220107120725543"></p></li><li><p>最新发现，只需要删除 <code>/home/yefan/.config/JetBrains/IntelliJIdea2021.2/eval</code> 目录下的文件即可</p><p><img src="image-20220107120746900.png" alt="image-20220107120746900"></p></li><li><p>删除后再重启IDEA，就可以发现IDEA跟新安装一样</p></li></ol><p>evaluation.key</p><ol start="5"><li>到这里就完成了重置</li></ol><p>这种方式同样适用于所有 <code>JetBrains</code> 的其他产品，但是要求版本是在  2021.2 版本以前</p><h1 id="在windows下重置"><a href="#在windows下重置" class="headerlink" title="在windows下重置"></a>在windows下重置</h1><p>路径如下：</p><p>C:\Users\zq\AppData\Roaming\JetBrains\IntelliJIdea2021.1\eval</p><p><img src="image-20220107120806097.png" alt="image-20220107120806097"></p><p>把.key的文件 重命名为其他的名字就可以重新选择试用</p><p>如果无法找到路径，可以在 C盘根目录下进行使用搜索，关键词为：evaluation.key</p><h1 id="在Mac-下重置"><a href="#在Mac-下重置" class="headerlink" title="在Mac 下重置"></a>在Mac 下重置</h1><p>脚本如下：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/sh</span></span><br><span class="line"><span class="comment"># reset jetbrains ide evals for now</span></span><br><span class="line"></span><br><span class="line">OS_NAME=$(uname -s)</span><br><span class="line">JB_PRODUCTS=<span class="string">&quot;IntelliJIdea CLion PhpStorm GoLand PyCharm WebStorm Rider DataGrip RubyMine AppCode&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [ <span class="string">&quot;<span class="variable">$OS_NAME</span>&quot;</span> = <span class="string">&quot;Darwin&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&#x27;macOS:&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> PRD <span class="keyword">in</span> <span class="variable">$JB_PRODUCTS</span>; <span class="keyword">do</span></span><br><span class="line">    rm -rf ~/Library/Preferences/<span class="variable">$&#123;PRD&#125;</span>*/<span class="built_in">eval</span></span><br><span class="line">    rm -rf ~/Library/Application\\ Support/<span class="variable">$&#123;PRD&#125;</span>*/<span class="built_in">eval</span></span><br><span class="line">    rm -rf ~/Library/Application\\ Support/JetBrains/<span class="variable">$&#123;PRD&#125;</span>*/<span class="built_in">eval</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"><span class="keyword">elif</span> [ <span class="string">&quot;<span class="variable">$OS_NAME</span>&quot;</span> = <span class="string">&quot;Linux&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&#x27;Linux:&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> PRD <span class="keyword">in</span> <span class="variable">$JB_PRODUCTS</span>; <span class="keyword">do</span></span><br><span class="line">  rm -rf ~/.<span class="variable">$&#123;PRD&#125;</span>*/config/<span class="built_in">eval</span></span><br><span class="line">    rm -rf ~/.config/<span class="variable">$&#123;PRD&#125;</span>*/<span class="built_in">eval</span></span><br><span class="line">    rm -rf ~/.config/JetBrains/<span class="variable">$&#123;PRD&#125;</span>*/<span class="built_in">eval</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&#x27;unsupported&#x27;</span></span><br><span class="line"><span class="built_in">exit</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&#x27;done.&#x27;</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> IDEA </tag>
            
            <tag> 软件破解 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>bind-exporter的部署</title>
      <link href="/2022/01/07/bind-exporter%E7%9A%84%E9%83%A8%E7%BD%B2/"/>
      <url>/2022/01/07/bind-exporter%E7%9A%84%E9%83%A8%E7%BD%B2/</url>
      
        <content type="html"><![CDATA[<h2 id="安装部署exporter"><a href="#安装部署exporter" class="headerlink" title="安装部署exporter"></a>安装部署exporter</h2><h3 id="下载exporter二进制包"><a href="#下载exporter二进制包" class="headerlink" title="下载exporter二进制包"></a>下载exporter二进制包</h3><p>根据不同的环境，选择不同的二进制包</p><p>下载地址：<a href="https://github.com/prometheus-community/bind_exporter/releases/tag/v0.5.0">https://github.com/prometheus-community/bind_exporter/releases/tag/v0.5.0</a></p><p>我这里使用的是这个包【bind_exporter-0.5.0.linux-amd64.tar.gz】</p><p><a href="https://github.com/prometheus-community/bind_exporter/releases/download/v0.5.0/bind_exporter-0.5.0.linux-amd64.tar.gz">https://github.com/prometheus-community/bind_exporter/releases/download/v0.5.0/bind_exporter-0.5.0.linux-amd64.tar.gz</a></p><h3 id="解压安装包"><a href="#解压安装包" class="headerlink" title="解压安装包"></a>解压安装包</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tar -zxvf bind_exporter-0.5.0.linux-amd64.tar.gz</span><br></pre></td></tr></table></figure><p><img src="image-20220104161539352.png" alt="image-20220104161539352"></p><p>解压之后的目录结构如下：</p><p><img src="image-20220104161634390.png" alt="image-20220104161634390"></p><h3 id="运行exporter"><a href="#运行exporter" class="headerlink" title="运行exporter"></a>运行exporter</h3><p>进入解压的目录，运行二进制文件 bind_exporter</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./bind_exporter --bind.pid-file=/var/run/named/named.pid --bind.timeout=20s --web.listen-address=0.0.0.0:9119 --web.telemetry-path=/metrics --bind.stats-url=http://localhost:53/ --bind.stats-groups=server,view,tasks</span><br></pre></td></tr></table></figure><blockquote><p>注意：</p><p>① 其中的localhost，是指被监控的bind所在的服务器地址，我这里是本机，因此可以直接使用localhost替代</p></blockquote><p>启动结果如下：</p><p><img src="image-20220104161949523.png" alt="image-20220104161949523"></p><h2 id="对接prometheus"><a href="#对接prometheus" class="headerlink" title="对接prometheus"></a>对接prometheus</h2><p>我这里采用的http_sd_config的方式发现服务，需要了解的可以查阅《prometheus服务动态发现之<code>http_sd_config</code>》这篇文章</p><ol><li><p>在prometheus中添加如下配置：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">-</span> <span class="attr">job_name:</span> <span class="string">&#x27;bind&#x27;</span></span><br><span class="line">  <span class="attr">http_sd_configs:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">url:</span> <span class="string">http://172.26.62.xx:12000/prometheus/getTargetByType?exporterType=BIND</span></span><br><span class="line">      <span class="attr">refresh_interval:</span> <span class="string">5s</span></span><br></pre></td></tr></table></figure></li></ol><p><img src="image-20220104170356350.png" alt="image-20220104170356350"></p><ol start="2"><li>重启或reload一下prometheus即可</li></ol><blockquote><p>注意：</p><p>①  配置中的url填写的是自己提供的服务地址，prometheus会自动调用该接口获取服务节点信息，该接口返回的的结果如下：</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line"> &#123;</span><br><span class="line">     <span class="attr">&quot;targets&quot;</span>:[</span><br><span class="line">         <span class="string">&quot;172.18.40.xx:9119&quot;</span></span><br><span class="line">     ],</span><br><span class="line">     <span class="attr">&quot;labels&quot;</span>:&#123;</span><br><span class="line">         <span class="attr">&quot;job&quot;</span>:<span class="string">&quot;bind&quot;</span></span><br><span class="line">     &#125;</span><br><span class="line"> &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure></blockquote><ol start="3"><li>查看节点是否注册上去</li></ol><h2 id="使用grafana查看监控大盘"><a href="#使用grafana查看监控大盘" class="headerlink" title="使用grafana查看监控大盘"></a>使用grafana查看监控大盘</h2><p>这里使用的是<code>1666</code>的监控大盘，访问地址如下：</p><p><a href="https://grafana.com/grafana/dashboards/1666">https://grafana.com/grafana/dashboards/1666</a></p><p><img src="image-20220104164022200.png" alt="image-20220104164022200"></p><p>最终呈现的监控大盘如下：</p><h2 id="bind-exporter监控的指标"><a href="#bind-exporter监控的指标" class="headerlink" title="bind_exporter监控的指标"></a>bind_exporter监控的指标</h2><p>通过访问exporter暴露出来的指标访问地址，可以查看到当前采集监控数据：</p><p><a href="http://172.18.40.88:9119/metrics">http://172.18.40.88:9119/metrics</a></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure><h2 id="问题分析"><a href="#问题分析" class="headerlink" title="问题分析"></a>问题分析</h2><p>在部署的的过程中出现了如下的问题：</p><h3 id="Couldn’t-retrieve-BIND-stats"><a href="#Couldn’t-retrieve-BIND-stats" class="headerlink" title="Couldn’t retrieve BIND stats"></a>Couldn’t retrieve BIND stats</h3><p>问题说明：</p><p>bind_exporter启动后，无法成功访问bind，从而导致无法获取监控数据</p><p><img src="image-20220104164953642.png" alt="image-20220104164953642"></p><p>解决办法：</p><p>参考网址如下：</p><p><a href="https://github.com/prometheus-community/bind_exporter/issues/118">https://github.com/prometheus-community/bind_exporter/issues/118</a></p><p><a href="https://github.com/prometheus-community/bind_exporter/issues/69">https://github.com/prometheus-community/bind_exporter/issues/69</a></p><p>分析结论是：</p><p>这个问题是bind与bind_exporter的版本问题导致的，目前暂时只适用于 bind 9.17.20 和 bind_exporter 0.5.0</p><p>最终解决问题的操作如下：</p><p>我当前版本为<code>暂时没有切换bind的版本，没有验证该结果</code></p><p><img src="image-20220104170912736.png" alt="image-20220104170912736"></p>]]></content>
      
      
      <categories>
          
          <category> prometheus </category>
          
      </categories>
      
      
        <tags>
            
            <tag> bind-exporter </tag>
            
            <tag> 云监控 </tag>
            
            <tag> 云计算 </tag>
            
            <tag> prometheus </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>elasticsearch-exporter的部署</title>
      <link href="/2022/01/07/elasticsearch-exporter%E7%9A%84%E9%83%A8%E7%BD%B2/"/>
      <url>/2022/01/07/elasticsearch-exporter%E7%9A%84%E9%83%A8%E7%BD%B2/</url>
      
        <content type="html"><![CDATA[<h2 id="安装部署exporter"><a href="#安装部署exporter" class="headerlink" title="安装部署exporter"></a>安装部署exporter</h2><h3 id="下载exporter二进制包"><a href="#下载exporter二进制包" class="headerlink" title="下载exporter二进制包"></a>下载exporter二进制包</h3><p>根据不同的环境，选择不同的二进制包</p><p>下载地址：<a href="https://github.com/prometheus-community/elasticsearch_exporter/releases/tag/v1.3.0">https://github.com/prometheus-community/elasticsearch_exporter/releases/tag/v1.3.0</a></p><p>我这里使用的是这个包【elasticsearch_exporter-1.3.0.linux-amd64.tar.gz】</p><p><a href="https://github.com/prometheus-community/elasticsearch_exporter/releases/download/v1.3.0/elasticsearch_exporter-1.3.0.linux-amd64.tar.gz">https://github.com/prometheus-community/elasticsearch_exporter/releases/download/v1.3.0/elasticsearch_exporter-1.3.0.linux-amd64.tar.gz</a></p><h3 id="解压安装包"><a href="#解压安装包" class="headerlink" title="解压安装包"></a>解压安装包</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tar -zxvf elasticsearch_exporter-1.3.0.linux-amd64.tar.gz </span><br></pre></td></tr></table></figure><p><img src="image-20220104145334774.png" alt="image-20220104145334774"></p><p>解压之后的目录结构如下：</p><p><img src="image-20220104145445891.png" alt="image-20220104145445891"></p><h3 id="运行exporter"><a href="#运行exporter" class="headerlink" title="运行exporter"></a>运行exporter</h3><p>进入解压的目录，运行二进制文件 elasticsearch_exporter</p><p>根据被监控的elasticsearch是否用户密码，需要分为以下两种情况进行运行：</p><ol><li><p>不需要用户名和密码</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./elasticsearch_exporter --web.listen-address &quot;:9109&quot;  --es.uri http://localhost:9200</span><br></pre></td></tr></table></figure><blockquote><p>注意：</p><p>① 其中的localhost，是指被监控的elasticsearch所在的服务器地址，我这里是本机，因此可以直接使用localhost替代</p><p>② 如果启动是出现如下错误：</p><p>caller=clusterinfo.go:188 msg=”failed to retrieve cluster info from ES” err=”HTTP Request failed with code 401”</p><p>很显然是表示没有权限，需要使用用户名和密码访问elasticsearch，需要使用下面第二种方式进行启动即可</p></blockquote></li><li><p>需要用户名和密码</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./elasticsearch_exporter --web.listen-address &quot;:9109&quot;  --es.uri http://elastic:elastic@localhost:9200</span><br></pre></td></tr></table></figure></li></ol><h2 id="对接prometheus"><a href="#对接prometheus" class="headerlink" title="对接prometheus"></a>对接prometheus</h2><p>我这里采用的http_sd_config的方式发现服务，需要了解的可以查阅《prometheus服务动态发现之<code>http_sd_config</code>》这篇文章</p><ol><li><p>在prometheus中添加如下配置：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">-</span> <span class="attr">job_name:</span> <span class="string">&#x27;elasticsearch&#x27;</span></span><br><span class="line">  <span class="attr">http_sd_configs:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">url:</span> <span class="string">http://172.26.62.99:12000/prometheus/getTargetByType?exporterType=ELASTICSEARCH</span></span><br><span class="line">      <span class="attr">refresh_interval:</span> <span class="string">5s</span></span><br></pre></td></tr></table></figure></li></ol><p><img src="image-20220104151110867.png" alt="image-20220104151110867"></p><ol start="2"><li>重启或reload一下prometheus即可</li></ol><blockquote><p>注意：</p><p>①  配置中的url填写的是自己提供的服务地址，prometheus会自动调用该接口获取服务节点信息，该接口返回的的结果如下：</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line"> &#123;</span><br><span class="line">     <span class="attr">&quot;targets&quot;</span>:[</span><br><span class="line">         <span class="string">&quot;172.18.40.xx:9109&quot;</span></span><br><span class="line">     ],</span><br><span class="line">     <span class="attr">&quot;labels&quot;</span>:&#123;</span><br><span class="line">         <span class="attr">&quot;job&quot;</span>:<span class="string">&quot;elasticsearch&quot;</span></span><br><span class="line">     &#125;</span><br><span class="line"> &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure></blockquote><ol start="3"><li><p>查看节点是否注册上去</p><p><img src="image-20220104151553748.png" alt="image-20220104151553748"></p></li></ol><h2 id="使用grafana查看监控大盘"><a href="#使用grafana查看监控大盘" class="headerlink" title="使用grafana查看监控大盘"></a>使用grafana查看监控大盘</h2><p>这里使用的是<code>6483</code>的监控大盘，访问地址如下：</p><p><a href="https://grafana.com/grafana/dashboards/6483">https://grafana.com/grafana/dashboards/6483</a></p><p><img src="image-20220104160409120.png" alt="image-20220104160409120"></p><p>最终呈现的监控大盘如下：</p><p><img src="image-20220104160329215.png" alt="image-20220104160329215"></p><h2 id="elasticsearch-exporter监控的指标"><a href="#elasticsearch-exporter监控的指标" class="headerlink" title="elasticsearch_exporter监控的指标"></a>elasticsearch_exporter监控的指标</h2><p>通过访问exporter暴露出来的指标访问地址，可以查看到当前采集监控数据：</p><p><a href="http://172.18.40.xx:9109/metrics">http://172.18.40.xx:9109/metrics</a></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br><span class="line">511</span><br><span class="line">512</span><br><span class="line">513</span><br><span class="line">514</span><br><span class="line">515</span><br><span class="line">516</span><br><span class="line">517</span><br><span class="line">518</span><br><span class="line">519</span><br><span class="line">520</span><br><span class="line">521</span><br><span class="line">522</span><br><span class="line">523</span><br><span class="line">524</span><br><span class="line">525</span><br><span class="line">526</span><br><span class="line">527</span><br><span class="line">528</span><br><span class="line">529</span><br><span class="line">530</span><br><span class="line">531</span><br><span class="line">532</span><br><span class="line">533</span><br><span class="line">534</span><br><span class="line">535</span><br><span class="line">536</span><br><span class="line">537</span><br><span class="line">538</span><br><span class="line">539</span><br><span class="line">540</span><br><span class="line">541</span><br><span class="line">542</span><br><span class="line">543</span><br><span class="line">544</span><br><span class="line">545</span><br><span class="line">546</span><br><span class="line">547</span><br><span class="line">548</span><br><span class="line">549</span><br><span class="line">550</span><br><span class="line">551</span><br><span class="line">552</span><br><span class="line">553</span><br><span class="line">554</span><br><span class="line">555</span><br><span class="line">556</span><br><span class="line">557</span><br><span class="line">558</span><br><span class="line">559</span><br><span class="line">560</span><br><span class="line">561</span><br><span class="line">562</span><br><span class="line">563</span><br><span class="line">564</span><br><span class="line">565</span><br><span class="line">566</span><br><span class="line">567</span><br><span class="line">568</span><br><span class="line">569</span><br><span class="line">570</span><br><span class="line">571</span><br><span class="line">572</span><br><span class="line">573</span><br><span class="line">574</span><br><span class="line">575</span><br><span class="line">576</span><br><span class="line">577</span><br><span class="line">578</span><br><span class="line">579</span><br><span class="line">580</span><br><span class="line">581</span><br><span class="line">582</span><br><span class="line">583</span><br><span class="line">584</span><br><span class="line">585</span><br><span class="line">586</span><br><span class="line">587</span><br><span class="line">588</span><br><span class="line">589</span><br><span class="line">590</span><br><span class="line">591</span><br><span class="line">592</span><br><span class="line">593</span><br><span class="line">594</span><br><span class="line">595</span><br><span class="line">596</span><br><span class="line">597</span><br><span class="line">598</span><br><span class="line">599</span><br><span class="line">600</span><br><span class="line">601</span><br><span class="line">602</span><br><span class="line">603</span><br><span class="line">604</span><br><span class="line">605</span><br><span class="line">606</span><br><span class="line">607</span><br><span class="line">608</span><br><span class="line">609</span><br><span class="line">610</span><br><span class="line">611</span><br><span class="line">612</span><br><span class="line">613</span><br><span class="line">614</span><br><span class="line">615</span><br><span class="line">616</span><br><span class="line">617</span><br><span class="line">618</span><br><span class="line">619</span><br><span class="line">620</span><br><span class="line">621</span><br><span class="line">622</span><br><span class="line">623</span><br><span class="line">624</span><br><span class="line">625</span><br><span class="line">626</span><br><span class="line">627</span><br><span class="line">628</span><br><span class="line">629</span><br><span class="line">630</span><br><span class="line">631</span><br><span class="line">632</span><br><span class="line">633</span><br><span class="line">634</span><br><span class="line">635</span><br><span class="line">636</span><br><span class="line">637</span><br><span class="line">638</span><br><span class="line">639</span><br><span class="line">640</span><br><span class="line">641</span><br><span class="line">642</span><br><span class="line">643</span><br><span class="line">644</span><br><span class="line">645</span><br><span class="line">646</span><br><span class="line">647</span><br><span class="line">648</span><br><span class="line">649</span><br><span class="line">650</span><br><span class="line">651</span><br><span class="line">652</span><br><span class="line">653</span><br><span class="line">654</span><br><span class="line">655</span><br><span class="line">656</span><br><span class="line">657</span><br><span class="line">658</span><br><span class="line">659</span><br><span class="line">660</span><br><span class="line">661</span><br><span class="line">662</span><br><span class="line">663</span><br><span class="line">664</span><br><span class="line">665</span><br><span class="line">666</span><br><span class="line">667</span><br><span class="line">668</span><br><span class="line">669</span><br><span class="line">670</span><br><span class="line">671</span><br><span class="line">672</span><br><span class="line">673</span><br><span class="line">674</span><br><span class="line">675</span><br><span class="line">676</span><br><span class="line">677</span><br><span class="line">678</span><br><span class="line">679</span><br><span class="line">680</span><br><span class="line">681</span><br><span class="line">682</span><br><span class="line">683</span><br><span class="line">684</span><br><span class="line">685</span><br><span class="line">686</span><br><span class="line">687</span><br><span class="line">688</span><br><span class="line">689</span><br><span class="line">690</span><br><span class="line">691</span><br><span class="line">692</span><br><span class="line">693</span><br><span class="line">694</span><br><span class="line">695</span><br><span class="line">696</span><br><span class="line">697</span><br><span class="line">698</span><br></pre></td><td class="code"><pre><span class="line"># HELP elasticsearch_breakers_estimated_size_bytes Estimated size in bytes of breaker</span><br><span class="line"># TYPE elasticsearch_breakers_estimated_size_bytes gauge</span><br><span class="line">elasticsearch_breakers_estimated_size_bytes&#123;breaker=&quot;accounting&quot;,cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;&#125; 3.1915479e+07</span><br><span class="line">elasticsearch_breakers_estimated_size_bytes&#123;breaker=&quot;fielddata&quot;,cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;&#125; 47232</span><br><span class="line">elasticsearch_breakers_estimated_size_bytes&#123;breaker=&quot;in_flight_requests&quot;,cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;&#125; 41421</span><br><span class="line">elasticsearch_breakers_estimated_size_bytes&#123;breaker=&quot;parent&quot;,cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;&#125; 3.2004132e+07</span><br><span class="line">elasticsearch_breakers_estimated_size_bytes&#123;breaker=&quot;request&quot;,cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;&#125; 0</span><br><span class="line"># HELP elasticsearch_breakers_limit_size_bytes Limit size in bytes for breaker</span><br><span class="line"># TYPE elasticsearch_breakers_limit_size_bytes gauge</span><br><span class="line">elasticsearch_breakers_limit_size_bytes&#123;breaker=&quot;accounting&quot;,cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;&#125; 2.112618496e+09</span><br><span class="line">elasticsearch_breakers_limit_size_bytes&#123;breaker=&quot;fielddata&quot;,cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;&#125; 1.267571097e+09</span><br><span class="line">elasticsearch_breakers_limit_size_bytes&#123;breaker=&quot;in_flight_requests&quot;,cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;&#125; 2.112618496e+09</span><br><span class="line">elasticsearch_breakers_limit_size_bytes&#123;breaker=&quot;parent&quot;,cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;&#125; 1.478832947e+09</span><br><span class="line">elasticsearch_breakers_limit_size_bytes&#123;breaker=&quot;request&quot;,cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;&#125; 1.267571097e+09</span><br><span class="line"># HELP elasticsearch_breakers_overhead Overhead of circuit breakers</span><br><span class="line"># TYPE elasticsearch_breakers_overhead counter</span><br><span class="line">elasticsearch_breakers_overhead&#123;breaker=&quot;accounting&quot;,cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;&#125; 1</span><br><span class="line">elasticsearch_breakers_overhead&#123;breaker=&quot;fielddata&quot;,cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;&#125; 1.03</span><br><span class="line">elasticsearch_breakers_overhead&#123;breaker=&quot;in_flight_requests&quot;,cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;&#125; 1</span><br><span class="line">elasticsearch_breakers_overhead&#123;breaker=&quot;parent&quot;,cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;&#125; 1</span><br><span class="line">elasticsearch_breakers_overhead&#123;breaker=&quot;request&quot;,cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;&#125; 1</span><br><span class="line"># HELP elasticsearch_breakers_tripped tripped for breaker</span><br><span class="line"># TYPE elasticsearch_breakers_tripped counter</span><br><span class="line">elasticsearch_breakers_tripped&#123;breaker=&quot;accounting&quot;,cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;&#125; 0</span><br><span class="line">elasticsearch_breakers_tripped&#123;breaker=&quot;fielddata&quot;,cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;&#125; 0</span><br><span class="line">elasticsearch_breakers_tripped&#123;breaker=&quot;in_flight_requests&quot;,cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;&#125; 0</span><br><span class="line">elasticsearch_breakers_tripped&#123;breaker=&quot;parent&quot;,cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;&#125; 0</span><br><span class="line">elasticsearch_breakers_tripped&#123;breaker=&quot;request&quot;,cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;&#125; 0</span><br><span class="line"># HELP elasticsearch_cluster_health_active_primary_shards The number of primary shards in your cluster. This is an aggregate total across all indices.</span><br><span class="line"># TYPE elasticsearch_cluster_health_active_primary_shards gauge</span><br><span class="line">elasticsearch_cluster_health_active_primary_shards&#123;cluster=&quot;powercloud_log&quot;&#125; 4236</span><br><span class="line"># HELP elasticsearch_cluster_health_active_shards Aggregate total of all shards across all indices, which includes replica shards.</span><br><span class="line"># TYPE elasticsearch_cluster_health_active_shards gauge</span><br><span class="line">elasticsearch_cluster_health_active_shards&#123;cluster=&quot;powercloud_log&quot;&#125; 4236</span><br><span class="line"># HELP elasticsearch_cluster_health_delayed_unassigned_shards Shards delayed to reduce reallocation overhead</span><br><span class="line"># TYPE elasticsearch_cluster_health_delayed_unassigned_shards gauge</span><br><span class="line">elasticsearch_cluster_health_delayed_unassigned_shards&#123;cluster=&quot;powercloud_log&quot;&#125; 0</span><br><span class="line"># HELP elasticsearch_cluster_health_initializing_shards Count of shards that are being freshly created.</span><br><span class="line"># TYPE elasticsearch_cluster_health_initializing_shards gauge</span><br><span class="line">elasticsearch_cluster_health_initializing_shards&#123;cluster=&quot;powercloud_log&quot;&#125; 0</span><br><span class="line"># HELP elasticsearch_cluster_health_json_parse_failures Number of errors while parsing JSON.</span><br><span class="line"># TYPE elasticsearch_cluster_health_json_parse_failures counter</span><br><span class="line">elasticsearch_cluster_health_json_parse_failures 0</span><br><span class="line"># HELP elasticsearch_cluster_health_number_of_data_nodes Number of data nodes in the cluster.</span><br><span class="line"># TYPE elasticsearch_cluster_health_number_of_data_nodes gauge</span><br><span class="line">elasticsearch_cluster_health_number_of_data_nodes&#123;cluster=&quot;powercloud_log&quot;&#125; 1</span><br><span class="line"># HELP elasticsearch_cluster_health_number_of_in_flight_fetch The number of ongoing shard info requests.</span><br><span class="line"># TYPE elasticsearch_cluster_health_number_of_in_flight_fetch gauge</span><br><span class="line">elasticsearch_cluster_health_number_of_in_flight_fetch&#123;cluster=&quot;powercloud_log&quot;&#125; 0</span><br><span class="line"># HELP elasticsearch_cluster_health_number_of_nodes Number of nodes in the cluster.</span><br><span class="line"># TYPE elasticsearch_cluster_health_number_of_nodes gauge</span><br><span class="line">elasticsearch_cluster_health_number_of_nodes&#123;cluster=&quot;powercloud_log&quot;&#125; 1</span><br><span class="line"># HELP elasticsearch_cluster_health_number_of_pending_tasks Cluster level changes which have not yet been executed</span><br><span class="line"># TYPE elasticsearch_cluster_health_number_of_pending_tasks gauge</span><br><span class="line">elasticsearch_cluster_health_number_of_pending_tasks&#123;cluster=&quot;powercloud_log&quot;&#125; 0</span><br><span class="line"># HELP elasticsearch_cluster_health_relocating_shards The number of shards that are currently moving from one node to another node.</span><br><span class="line"># TYPE elasticsearch_cluster_health_relocating_shards gauge</span><br><span class="line">elasticsearch_cluster_health_relocating_shards&#123;cluster=&quot;powercloud_log&quot;&#125; 0</span><br><span class="line"># HELP elasticsearch_cluster_health_status Whether all primary and replica shards are allocated.</span><br><span class="line"># TYPE elasticsearch_cluster_health_status gauge</span><br><span class="line">elasticsearch_cluster_health_status&#123;cluster=&quot;powercloud_log&quot;,color=&quot;green&quot;&#125; 1</span><br><span class="line">elasticsearch_cluster_health_status&#123;cluster=&quot;powercloud_log&quot;,color=&quot;red&quot;&#125; 0</span><br><span class="line">elasticsearch_cluster_health_status&#123;cluster=&quot;powercloud_log&quot;,color=&quot;yellow&quot;&#125; 0</span><br><span class="line"># HELP elasticsearch_cluster_health_task_max_waiting_in_queue_millis Tasks max time waiting in queue.</span><br><span class="line"># TYPE elasticsearch_cluster_health_task_max_waiting_in_queue_millis gauge</span><br><span class="line">elasticsearch_cluster_health_task_max_waiting_in_queue_millis&#123;cluster=&quot;powercloud_log&quot;&#125; 0</span><br><span class="line"># HELP elasticsearch_cluster_health_total_scrapes Current total ElasticSearch cluster health scrapes.</span><br><span class="line"># TYPE elasticsearch_cluster_health_total_scrapes counter</span><br><span class="line">elasticsearch_cluster_health_total_scrapes 86</span><br><span class="line"># HELP elasticsearch_cluster_health_unassigned_shards The number of shards that exist in the cluster state, but cannot be found in the cluster itself.</span><br><span class="line"># TYPE elasticsearch_cluster_health_unassigned_shards gauge</span><br><span class="line">elasticsearch_cluster_health_unassigned_shards&#123;cluster=&quot;powercloud_log&quot;&#125; 0</span><br><span class="line"># HELP elasticsearch_cluster_health_up Was the last scrape of the ElasticSearch cluster health endpoint successful.</span><br><span class="line"># TYPE elasticsearch_cluster_health_up gauge</span><br><span class="line">elasticsearch_cluster_health_up 1</span><br><span class="line"># HELP elasticsearch_clusterinfo_last_retrieval_failure_ts Timestamp of the last failed cluster info retrieval</span><br><span class="line"># TYPE elasticsearch_clusterinfo_last_retrieval_failure_ts gauge</span><br><span class="line">elasticsearch_clusterinfo_last_retrieval_failure_ts&#123;url=&quot;http://localhost:9200&quot;&#125; 1.641279194e+09</span><br><span class="line"># HELP elasticsearch_clusterinfo_last_retrieval_success_ts Timestamp of the last successful cluster info retrieval</span><br><span class="line"># TYPE elasticsearch_clusterinfo_last_retrieval_success_ts gauge</span><br><span class="line">elasticsearch_clusterinfo_last_retrieval_success_ts&#123;url=&quot;http://localhost:9200&quot;&#125; 1.641279789e+09</span><br><span class="line"># HELP elasticsearch_clusterinfo_up Up metric for the cluster info collector</span><br><span class="line"># TYPE elasticsearch_clusterinfo_up gauge</span><br><span class="line">elasticsearch_clusterinfo_up&#123;url=&quot;http://localhost:9200&quot;&#125; 1</span><br><span class="line"># HELP elasticsearch_clusterinfo_version_info Constant metric with ES version information as labels</span><br><span class="line"># TYPE elasticsearch_clusterinfo_version_info gauge</span><br><span class="line">elasticsearch_clusterinfo_version_info&#123;build_date=&quot;2020-10-16T09:09:46.555371Z&quot;,build_hash=&quot;be13c69&quot;,cluster=&quot;powercloud_log&quot;,cluster_uuid=&quot;YHZNY2gQRwSdApY_N5ZRGg&quot;,lucene_version=&quot;7.7.3&quot;,version=&quot;6.8.13&quot;&#125; 0</span><br><span class="line"># HELP elasticsearch_exporter_build_info A metric with a constant &#x27;1&#x27; value labeled by version, revision, branch, and goversion from which elasticsearch_exporter was built.</span><br><span class="line"># TYPE elasticsearch_exporter_build_info gauge</span><br><span class="line">elasticsearch_exporter_build_info&#123;branch=&quot;HEAD&quot;,goversion=&quot;go1.16.9&quot;,revision=&quot;5b2e5c7e0e5059c5e2c8046802fa59fb88b30773&quot;,version=&quot;1.3.0&quot;&#125; 1</span><br><span class="line"># HELP elasticsearch_filesystem_data_available_bytes Available space on block device in bytes</span><br><span class="line"># TYPE elasticsearch_filesystem_data_available_bytes gauge</span><br><span class="line">elasticsearch_filesystem_data_available_bytes&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,mount=&quot;/ (rootfs)&quot;,name=&quot;node-65&quot;,path=&quot;/mysql/es/nodes/0&quot;&#125; 7.907373056e+09</span><br><span class="line"># HELP elasticsearch_filesystem_data_free_bytes Free space on block device in bytes</span><br><span class="line"># TYPE elasticsearch_filesystem_data_free_bytes gauge</span><br><span class="line">elasticsearch_filesystem_data_free_bytes&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,mount=&quot;/ (rootfs)&quot;,name=&quot;node-65&quot;,path=&quot;/mysql/es/nodes/0&quot;&#125; 7.907373056e+09</span><br><span class="line"># HELP elasticsearch_filesystem_data_size_bytes Size of block device in bytes</span><br><span class="line"># TYPE elasticsearch_filesystem_data_size_bytes gauge</span><br><span class="line">elasticsearch_filesystem_data_size_bytes&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,mount=&quot;/ (rootfs)&quot;,name=&quot;node-65&quot;,path=&quot;/mysql/es/nodes/0&quot;&#125; 1.3407092736e+10</span><br><span class="line"># HELP elasticsearch_filesystem_io_stats_device_operations_count Count of disk operations</span><br><span class="line"># TYPE elasticsearch_filesystem_io_stats_device_operations_count counter</span><br><span class="line">elasticsearch_filesystem_io_stats_device_operations_count&#123;cluster=&quot;powercloud_log&quot;,device=&quot;dm-0&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;&#125; 4.24902462e+08</span><br><span class="line"># HELP elasticsearch_filesystem_io_stats_device_read_operations_count Count of disk read operations</span><br><span class="line"># TYPE elasticsearch_filesystem_io_stats_device_read_operations_count counter</span><br><span class="line">elasticsearch_filesystem_io_stats_device_read_operations_count&#123;cluster=&quot;powercloud_log&quot;,device=&quot;dm-0&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;&#125; 173739</span><br><span class="line"># HELP elasticsearch_filesystem_io_stats_device_read_size_kilobytes_sum Total kilobytes read from disk</span><br><span class="line"># TYPE elasticsearch_filesystem_io_stats_device_read_size_kilobytes_sum counter</span><br><span class="line">elasticsearch_filesystem_io_stats_device_read_size_kilobytes_sum&#123;cluster=&quot;powercloud_log&quot;,device=&quot;dm-0&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;&#125; 5.766904e+06</span><br><span class="line"># HELP elasticsearch_filesystem_io_stats_device_write_operations_count Count of disk write operations</span><br><span class="line"># TYPE elasticsearch_filesystem_io_stats_device_write_operations_count counter</span><br><span class="line">elasticsearch_filesystem_io_stats_device_write_operations_count&#123;cluster=&quot;powercloud_log&quot;,device=&quot;dm-0&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;&#125; 4.24728723e+08</span><br><span class="line"># HELP elasticsearch_filesystem_io_stats_device_write_size_kilobytes_sum Total kilobytes written to disk</span><br><span class="line"># TYPE elasticsearch_filesystem_io_stats_device_write_size_kilobytes_sum counter</span><br><span class="line">elasticsearch_filesystem_io_stats_device_write_size_kilobytes_sum&#123;cluster=&quot;powercloud_log&quot;,device=&quot;dm-0&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;&#125; 3.996657082e+09</span><br><span class="line"># HELP elasticsearch_indices_completion_size_in_bytes Completion in bytes</span><br><span class="line"># TYPE elasticsearch_indices_completion_size_in_bytes counter</span><br><span class="line">elasticsearch_indices_completion_size_in_bytes&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;&#125; 0</span><br><span class="line"># HELP elasticsearch_indices_docs Count of documents on this node</span><br><span class="line"># TYPE elasticsearch_indices_docs gauge</span><br><span class="line">elasticsearch_indices_docs&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;&#125; 3.844747e+06</span><br><span class="line"># HELP elasticsearch_indices_docs_deleted Count of deleted documents on this node</span><br><span class="line"># TYPE elasticsearch_indices_docs_deleted gauge</span><br><span class="line">elasticsearch_indices_docs_deleted&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;&#125; 31972</span><br><span class="line"># HELP elasticsearch_indices_fielddata_evictions Evictions from field data</span><br><span class="line"># TYPE elasticsearch_indices_fielddata_evictions counter</span><br><span class="line">elasticsearch_indices_fielddata_evictions&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;&#125; 0</span><br><span class="line"># HELP elasticsearch_indices_fielddata_memory_size_bytes Field data cache memory usage in bytes</span><br><span class="line"># TYPE elasticsearch_indices_fielddata_memory_size_bytes gauge</span><br><span class="line">elasticsearch_indices_fielddata_memory_size_bytes&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;&#125; 47232</span><br><span class="line"># HELP elasticsearch_indices_filter_cache_evictions Evictions from filter cache</span><br><span class="line"># TYPE elasticsearch_indices_filter_cache_evictions counter</span><br><span class="line">elasticsearch_indices_filter_cache_evictions&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;&#125; 0</span><br><span class="line"># HELP elasticsearch_indices_filter_cache_memory_size_bytes Filter cache memory usage in bytes</span><br><span class="line"># TYPE elasticsearch_indices_filter_cache_memory_size_bytes gauge</span><br><span class="line">elasticsearch_indices_filter_cache_memory_size_bytes&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;&#125; 0</span><br><span class="line"># HELP elasticsearch_indices_flush_time_seconds Cumulative flush time in seconds</span><br><span class="line"># TYPE elasticsearch_indices_flush_time_seconds counter</span><br><span class="line">elasticsearch_indices_flush_time_seconds&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;&#125; 1281.583</span><br><span class="line"># HELP elasticsearch_indices_flush_total Total flushes</span><br><span class="line"># TYPE elasticsearch_indices_flush_total counter</span><br><span class="line">elasticsearch_indices_flush_total&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;&#125; 88700</span><br><span class="line"># HELP elasticsearch_indices_get_exists_time_seconds Total time get exists in seconds</span><br><span class="line"># TYPE elasticsearch_indices_get_exists_time_seconds counter</span><br><span class="line">elasticsearch_indices_get_exists_time_seconds&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;&#125; 7334.63</span><br><span class="line"># HELP elasticsearch_indices_get_exists_total Total get exists operations</span><br><span class="line"># TYPE elasticsearch_indices_get_exists_total counter</span><br><span class="line">elasticsearch_indices_get_exists_total&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;&#125; 1.09638173e+08</span><br><span class="line"># HELP elasticsearch_indices_get_missing_time_seconds Total time of get missing in seconds</span><br><span class="line"># TYPE elasticsearch_indices_get_missing_time_seconds counter</span><br><span class="line">elasticsearch_indices_get_missing_time_seconds&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;&#125; 1.69</span><br><span class="line"># HELP elasticsearch_indices_get_missing_total Total get missing</span><br><span class="line"># TYPE elasticsearch_indices_get_missing_total counter</span><br><span class="line">elasticsearch_indices_get_missing_total&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;&#125; 978</span><br><span class="line"># HELP elasticsearch_indices_get_time_seconds Total get time in seconds</span><br><span class="line"># TYPE elasticsearch_indices_get_time_seconds counter</span><br><span class="line">elasticsearch_indices_get_time_seconds&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;&#125; 7336.32</span><br><span class="line"># HELP elasticsearch_indices_get_total Total get</span><br><span class="line"># TYPE elasticsearch_indices_get_total counter</span><br><span class="line">elasticsearch_indices_get_total&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;&#125; 1.09639151e+08</span><br><span class="line"># HELP elasticsearch_indices_indexing_delete_time_seconds_total Total time indexing delete in seconds</span><br><span class="line"># TYPE elasticsearch_indices_indexing_delete_time_seconds_total counter</span><br><span class="line">elasticsearch_indices_indexing_delete_time_seconds_total&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;&#125; 0</span><br><span class="line"># HELP elasticsearch_indices_indexing_delete_total Total indexing deletes</span><br><span class="line"># TYPE elasticsearch_indices_indexing_delete_total counter</span><br><span class="line">elasticsearch_indices_indexing_delete_total&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;&#125; 0</span><br><span class="line"># HELP elasticsearch_indices_indexing_index_time_seconds_total Cumulative index time in seconds</span><br><span class="line"># TYPE elasticsearch_indices_indexing_index_time_seconds_total counter</span><br><span class="line">elasticsearch_indices_indexing_index_time_seconds_total&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;&#125; 47008.786</span><br><span class="line"># HELP elasticsearch_indices_indexing_index_total Total index calls</span><br><span class="line"># TYPE elasticsearch_indices_indexing_index_total counter</span><br><span class="line">elasticsearch_indices_indexing_index_total&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;&#125; 8.7126405e+07</span><br><span class="line"># HELP elasticsearch_indices_indexing_is_throttled Indexing throttling</span><br><span class="line"># TYPE elasticsearch_indices_indexing_is_throttled gauge</span><br><span class="line">elasticsearch_indices_indexing_is_throttled&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;&#125; 0</span><br><span class="line"># HELP elasticsearch_indices_indexing_throttle_time_seconds_total Cumulative indexing throttling time</span><br><span class="line"># TYPE elasticsearch_indices_indexing_throttle_time_seconds_total counter</span><br><span class="line">elasticsearch_indices_indexing_throttle_time_seconds_total&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;&#125; 0</span><br><span class="line"># HELP elasticsearch_indices_merges_current Current merges</span><br><span class="line"># TYPE elasticsearch_indices_merges_current gauge</span><br><span class="line">elasticsearch_indices_merges_current&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;&#125; 0</span><br><span class="line"># HELP elasticsearch_indices_merges_current_size_in_bytes Size of a current merges in bytes</span><br><span class="line"># TYPE elasticsearch_indices_merges_current_size_in_bytes gauge</span><br><span class="line">elasticsearch_indices_merges_current_size_in_bytes&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;&#125; 0</span><br><span class="line"># HELP elasticsearch_indices_merges_docs_total Cumulative docs merged</span><br><span class="line"># TYPE elasticsearch_indices_merges_docs_total counter</span><br><span class="line">elasticsearch_indices_merges_docs_total&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;&#125; 5.91988704e+08</span><br><span class="line"># HELP elasticsearch_indices_merges_total Total merges</span><br><span class="line"># TYPE elasticsearch_indices_merges_total counter</span><br><span class="line">elasticsearch_indices_merges_total&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;&#125; 2.595759e+06</span><br><span class="line"># HELP elasticsearch_indices_merges_total_size_bytes_total Total merge size in bytes</span><br><span class="line"># TYPE elasticsearch_indices_merges_total_size_bytes_total counter</span><br><span class="line">elasticsearch_indices_merges_total_size_bytes_total&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;&#125; 2.77768194134e+11</span><br><span class="line"># HELP elasticsearch_indices_merges_total_throttled_time_seconds_total Total throttled time of merges in seconds</span><br><span class="line"># TYPE elasticsearch_indices_merges_total_throttled_time_seconds_total counter</span><br><span class="line">elasticsearch_indices_merges_total_throttled_time_seconds_total&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;&#125; 0</span><br><span class="line"># HELP elasticsearch_indices_merges_total_time_seconds_total Total time spent merging in seconds</span><br><span class="line"># TYPE elasticsearch_indices_merges_total_time_seconds_total counter</span><br><span class="line">elasticsearch_indices_merges_total_time_seconds_total&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;&#125; 13919.644</span><br><span class="line"># HELP elasticsearch_indices_query_cache_cache_size Query cache cache size</span><br><span class="line"># TYPE elasticsearch_indices_query_cache_cache_size gauge</span><br><span class="line">elasticsearch_indices_query_cache_cache_size&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;&#125; 0</span><br><span class="line"># HELP elasticsearch_indices_query_cache_cache_total Query cache cache count</span><br><span class="line"># TYPE elasticsearch_indices_query_cache_cache_total counter</span><br><span class="line">elasticsearch_indices_query_cache_cache_total&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;&#125; 0</span><br><span class="line"># HELP elasticsearch_indices_query_cache_count Query cache count</span><br><span class="line"># TYPE elasticsearch_indices_query_cache_count counter</span><br><span class="line">elasticsearch_indices_query_cache_count&#123;cache=&quot;hit&quot;,cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;&#125; 0</span><br><span class="line"># HELP elasticsearch_indices_query_cache_evictions Evictions from query cache</span><br><span class="line"># TYPE elasticsearch_indices_query_cache_evictions counter</span><br><span class="line">elasticsearch_indices_query_cache_evictions&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;&#125; 0</span><br><span class="line"># HELP elasticsearch_indices_query_cache_memory_size_bytes Query cache memory usage in bytes</span><br><span class="line"># TYPE elasticsearch_indices_query_cache_memory_size_bytes gauge</span><br><span class="line">elasticsearch_indices_query_cache_memory_size_bytes&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;&#125; 0</span><br><span class="line"># HELP elasticsearch_indices_query_cache_total Query cache total count</span><br><span class="line"># TYPE elasticsearch_indices_query_cache_total counter</span><br><span class="line">elasticsearch_indices_query_cache_total&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;&#125; 0</span><br><span class="line"># HELP elasticsearch_indices_query_miss_count Query miss count</span><br><span class="line"># TYPE elasticsearch_indices_query_miss_count counter</span><br><span class="line">elasticsearch_indices_query_miss_count&#123;cache=&quot;miss&quot;,cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;&#125; 0</span><br><span class="line"># HELP elasticsearch_indices_refresh_time_seconds_total Total time spent refreshing in seconds</span><br><span class="line"># TYPE elasticsearch_indices_refresh_time_seconds_total counter</span><br><span class="line">elasticsearch_indices_refresh_time_seconds_total&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;&#125; 321386.712</span><br><span class="line"># HELP elasticsearch_indices_refresh_total Total refreshes</span><br><span class="line"># TYPE elasticsearch_indices_refresh_total counter</span><br><span class="line">elasticsearch_indices_refresh_total&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;&#125; 6.0047433e+07</span><br><span class="line"># HELP elasticsearch_indices_request_cache_count Request cache count</span><br><span class="line"># TYPE elasticsearch_indices_request_cache_count counter</span><br><span class="line">elasticsearch_indices_request_cache_count&#123;cache=&quot;hit&quot;,cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;&#125; 959</span><br><span class="line"># HELP elasticsearch_indices_request_cache_evictions Evictions from request cache</span><br><span class="line"># TYPE elasticsearch_indices_request_cache_evictions counter</span><br><span class="line">elasticsearch_indices_request_cache_evictions&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;&#125; 0</span><br><span class="line"># HELP elasticsearch_indices_request_cache_memory_size_bytes Request cache memory usage in bytes</span><br><span class="line"># TYPE elasticsearch_indices_request_cache_memory_size_bytes gauge</span><br><span class="line">elasticsearch_indices_request_cache_memory_size_bytes&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;&#125; 97920</span><br><span class="line"># HELP elasticsearch_indices_request_miss_count Request miss count</span><br><span class="line"># TYPE elasticsearch_indices_request_miss_count counter</span><br><span class="line">elasticsearch_indices_request_miss_count&#123;cache=&quot;miss&quot;,cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;&#125; 2431</span><br><span class="line"># HELP elasticsearch_indices_search_fetch_time_seconds Total search fetch time in seconds</span><br><span class="line"># TYPE elasticsearch_indices_search_fetch_time_seconds counter</span><br><span class="line">elasticsearch_indices_search_fetch_time_seconds&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;&#125; 235.096</span><br><span class="line"># HELP elasticsearch_indices_search_fetch_total Total number of fetches</span><br><span class="line"># TYPE elasticsearch_indices_search_fetch_total counter</span><br><span class="line">elasticsearch_indices_search_fetch_total&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;&#125; 7.892078e+06</span><br><span class="line"># HELP elasticsearch_indices_search_query_time_seconds Total search query time in seconds</span><br><span class="line"># TYPE elasticsearch_indices_search_query_time_seconds counter</span><br><span class="line">elasticsearch_indices_search_query_time_seconds&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;&#125; 44106.837</span><br><span class="line"># HELP elasticsearch_indices_search_query_total Total number of queries</span><br><span class="line"># TYPE elasticsearch_indices_search_query_total counter</span><br><span class="line">elasticsearch_indices_search_query_total&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;&#125; 7.52018903e+08</span><br><span class="line"># HELP elasticsearch_indices_search_scroll_time_seconds Total scroll time in seconds</span><br><span class="line"># TYPE elasticsearch_indices_search_scroll_time_seconds counter</span><br><span class="line">elasticsearch_indices_search_scroll_time_seconds&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;&#125; 0</span><br><span class="line"># HELP elasticsearch_indices_search_scroll_total Total number of scrolls</span><br><span class="line"># TYPE elasticsearch_indices_search_scroll_total counter</span><br><span class="line">elasticsearch_indices_search_scroll_total&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;&#125; 0</span><br><span class="line"># HELP elasticsearch_indices_search_suggest_time_seconds Total suggest time in seconds</span><br><span class="line"># TYPE elasticsearch_indices_search_suggest_time_seconds counter</span><br><span class="line">elasticsearch_indices_search_suggest_time_seconds&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;&#125; 0</span><br><span class="line"># HELP elasticsearch_indices_search_suggest_total Total number of suggests</span><br><span class="line"># TYPE elasticsearch_indices_search_suggest_total counter</span><br><span class="line">elasticsearch_indices_search_suggest_total&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;&#125; 0</span><br><span class="line"># HELP elasticsearch_indices_segments_count Count of index segments on this node</span><br><span class="line"># TYPE elasticsearch_indices_segments_count gauge</span><br><span class="line">elasticsearch_indices_segments_count&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;&#125; 25317</span><br><span class="line"># HELP elasticsearch_indices_segments_doc_values_memory_in_bytes Count of doc values memory</span><br><span class="line"># TYPE elasticsearch_indices_segments_doc_values_memory_in_bytes gauge</span><br><span class="line">elasticsearch_indices_segments_doc_values_memory_in_bytes&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;&#125; 6.907292e+06</span><br><span class="line"># HELP elasticsearch_indices_segments_fixed_bit_set_memory_in_bytes Count of fixed bit set</span><br><span class="line"># TYPE elasticsearch_indices_segments_fixed_bit_set_memory_in_bytes gauge</span><br><span class="line">elasticsearch_indices_segments_fixed_bit_set_memory_in_bytes&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;&#125; 0</span><br><span class="line"># HELP elasticsearch_indices_segments_index_writer_memory_in_bytes Count of memory for index writer on this node</span><br><span class="line"># TYPE elasticsearch_indices_segments_index_writer_memory_in_bytes gauge</span><br><span class="line">elasticsearch_indices_segments_index_writer_memory_in_bytes&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;&#125; 2.0151996e+07</span><br><span class="line"># HELP elasticsearch_indices_segments_memory_bytes Current memory size of segments in bytes</span><br><span class="line"># TYPE elasticsearch_indices_segments_memory_bytes gauge</span><br><span class="line">elasticsearch_indices_segments_memory_bytes&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;&#125; 3.1915479e+07</span><br><span class="line"># HELP elasticsearch_indices_segments_norms_memory_in_bytes Count of memory used by norms</span><br><span class="line"># TYPE elasticsearch_indices_segments_norms_memory_in_bytes gauge</span><br><span class="line">elasticsearch_indices_segments_norms_memory_in_bytes&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;&#125; 669440</span><br><span class="line"># HELP elasticsearch_indices_segments_points_memory_in_bytes Point values memory usage in bytes</span><br><span class="line"># TYPE elasticsearch_indices_segments_points_memory_in_bytes gauge</span><br><span class="line">elasticsearch_indices_segments_points_memory_in_bytes&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;&#125; 268735</span><br><span class="line"># HELP elasticsearch_indices_segments_stored_fields_memory_in_bytes Count of stored fields memory</span><br><span class="line"># TYPE elasticsearch_indices_segments_stored_fields_memory_in_bytes gauge</span><br><span class="line">elasticsearch_indices_segments_stored_fields_memory_in_bytes&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;&#125; 7.991504e+06</span><br><span class="line"># HELP elasticsearch_indices_segments_term_vectors_memory_in_bytes Term vectors memory usage in bytes</span><br><span class="line"># TYPE elasticsearch_indices_segments_term_vectors_memory_in_bytes gauge</span><br><span class="line">elasticsearch_indices_segments_term_vectors_memory_in_bytes&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;&#125; 0</span><br><span class="line"># HELP elasticsearch_indices_segments_terms_memory_in_bytes Count of terms in memory for this node</span><br><span class="line"># TYPE elasticsearch_indices_segments_terms_memory_in_bytes gauge</span><br><span class="line">elasticsearch_indices_segments_terms_memory_in_bytes&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;&#125; 1.6078508e+07</span><br><span class="line"># HELP elasticsearch_indices_segments_version_map_memory_in_bytes Version map memory usage in bytes</span><br><span class="line"># TYPE elasticsearch_indices_segments_version_map_memory_in_bytes gauge</span><br><span class="line">elasticsearch_indices_segments_version_map_memory_in_bytes&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;&#125; 12348</span><br><span class="line"># HELP elasticsearch_indices_store_size_bytes Current size of stored index data in bytes</span><br><span class="line"># TYPE elasticsearch_indices_store_size_bytes gauge</span><br><span class="line">elasticsearch_indices_store_size_bytes&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;&#125; 6.10025718e+08</span><br><span class="line"># HELP elasticsearch_indices_store_throttle_time_seconds_total Throttle time for index store in seconds</span><br><span class="line"># TYPE elasticsearch_indices_store_throttle_time_seconds_total counter</span><br><span class="line">elasticsearch_indices_store_throttle_time_seconds_total&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;&#125; 0</span><br><span class="line"># HELP elasticsearch_indices_translog_operations Total translog operations</span><br><span class="line"># TYPE elasticsearch_indices_translog_operations counter</span><br><span class="line">elasticsearch_indices_translog_operations&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;&#125; 3.788237e+06</span><br><span class="line"># HELP elasticsearch_indices_translog_size_in_bytes Total translog size in bytes</span><br><span class="line"># TYPE elasticsearch_indices_translog_size_in_bytes counter</span><br><span class="line">elasticsearch_indices_translog_size_in_bytes&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;&#125; 1.161283492e+09</span><br><span class="line"># HELP elasticsearch_indices_warmer_time_seconds_total Total warmer time in seconds</span><br><span class="line"># TYPE elasticsearch_indices_warmer_time_seconds_total counter</span><br><span class="line">elasticsearch_indices_warmer_time_seconds_total&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;&#125; 766.68</span><br><span class="line"># HELP elasticsearch_indices_warmer_total Total warmer count</span><br><span class="line"># TYPE elasticsearch_indices_warmer_total counter</span><br><span class="line">elasticsearch_indices_warmer_total&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;&#125; 5.1882607e+07</span><br><span class="line"># HELP elasticsearch_jvm_buffer_pool_used_bytes JVM buffer currently used</span><br><span class="line"># TYPE elasticsearch_jvm_buffer_pool_used_bytes gauge</span><br><span class="line">elasticsearch_jvm_buffer_pool_used_bytes&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,type=&quot;direct&quot;&#125; 1.35439297e+08</span><br><span class="line">elasticsearch_jvm_buffer_pool_used_bytes&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,type=&quot;mapped&quot;&#125; 5.61244239e+08</span><br><span class="line"># HELP elasticsearch_jvm_gc_collection_seconds_count Count of JVM GC runs</span><br><span class="line"># TYPE elasticsearch_jvm_gc_collection_seconds_count counter</span><br><span class="line">elasticsearch_jvm_gc_collection_seconds_count&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,gc=&quot;old&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;&#125; 349475</span><br><span class="line">elasticsearch_jvm_gc_collection_seconds_count&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,gc=&quot;young&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;&#125; 1.310973e+06</span><br><span class="line"># HELP elasticsearch_jvm_gc_collection_seconds_sum GC run time in seconds</span><br><span class="line"># TYPE elasticsearch_jvm_gc_collection_seconds_sum counter</span><br><span class="line">elasticsearch_jvm_gc_collection_seconds_sum&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,gc=&quot;old&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;&#125; 29972.916</span><br><span class="line">elasticsearch_jvm_gc_collection_seconds_sum&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,gc=&quot;young&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;&#125; 35169.164</span><br><span class="line"># HELP elasticsearch_jvm_memory_committed_bytes JVM memory currently committed by area</span><br><span class="line"># TYPE elasticsearch_jvm_memory_committed_bytes gauge</span><br><span class="line">elasticsearch_jvm_memory_committed_bytes&#123;area=&quot;heap&quot;,cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;&#125; 2.112618496e+09</span><br><span class="line">elasticsearch_jvm_memory_committed_bytes&#123;area=&quot;non-heap&quot;,cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;&#125; 1.94031616e+08</span><br><span class="line"># HELP elasticsearch_jvm_memory_max_bytes JVM memory max</span><br><span class="line"># TYPE elasticsearch_jvm_memory_max_bytes gauge</span><br><span class="line">elasticsearch_jvm_memory_max_bytes&#123;area=&quot;heap&quot;,cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;&#125; 2.112618496e+09</span><br><span class="line"># HELP elasticsearch_jvm_memory_pool_max_bytes JVM memory max by pool</span><br><span class="line"># TYPE elasticsearch_jvm_memory_pool_max_bytes counter</span><br><span class="line">elasticsearch_jvm_memory_pool_max_bytes&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,pool=&quot;old&quot;&#125; 1.798569984e+09</span><br><span class="line">elasticsearch_jvm_memory_pool_max_bytes&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,pool=&quot;survivor&quot;&#125; 3.4865152e+07</span><br><span class="line">elasticsearch_jvm_memory_pool_max_bytes&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,pool=&quot;young&quot;&#125; 2.7918336e+08</span><br><span class="line"># HELP elasticsearch_jvm_memory_pool_peak_max_bytes JVM memory peak max by pool</span><br><span class="line"># TYPE elasticsearch_jvm_memory_pool_peak_max_bytes counter</span><br><span class="line">elasticsearch_jvm_memory_pool_peak_max_bytes&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,pool=&quot;old&quot;&#125; 1.798569984e+09</span><br><span class="line">elasticsearch_jvm_memory_pool_peak_max_bytes&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,pool=&quot;survivor&quot;&#125; 3.4865152e+07</span><br><span class="line">elasticsearch_jvm_memory_pool_peak_max_bytes&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,pool=&quot;young&quot;&#125; 2.7918336e+08</span><br><span class="line"># HELP elasticsearch_jvm_memory_pool_peak_used_bytes JVM memory peak used by pool</span><br><span class="line"># TYPE elasticsearch_jvm_memory_pool_peak_used_bytes counter</span><br><span class="line">elasticsearch_jvm_memory_pool_peak_used_bytes&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,pool=&quot;old&quot;&#125; 1.79310328e+09</span><br><span class="line">elasticsearch_jvm_memory_pool_peak_used_bytes&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,pool=&quot;survivor&quot;&#125; 3.4865152e+07</span><br><span class="line">elasticsearch_jvm_memory_pool_peak_used_bytes&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,pool=&quot;young&quot;&#125; 2.7918336e+08</span><br><span class="line"># HELP elasticsearch_jvm_memory_pool_used_bytes JVM memory currently used by pool</span><br><span class="line"># TYPE elasticsearch_jvm_memory_pool_used_bytes gauge</span><br><span class="line">elasticsearch_jvm_memory_pool_used_bytes&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,pool=&quot;old&quot;&#125; 1.749747304e+09</span><br><span class="line">elasticsearch_jvm_memory_pool_used_bytes&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,pool=&quot;survivor&quot;&#125; 2.7390528e+07</span><br><span class="line">elasticsearch_jvm_memory_pool_used_bytes&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,pool=&quot;young&quot;&#125; 2.570478e+08</span><br><span class="line"># HELP elasticsearch_jvm_memory_used_bytes JVM memory currently used by area</span><br><span class="line"># TYPE elasticsearch_jvm_memory_used_bytes gauge</span><br><span class="line">elasticsearch_jvm_memory_used_bytes&#123;area=&quot;heap&quot;,cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;&#125; 2.034185632e+09</span><br><span class="line">elasticsearch_jvm_memory_used_bytes&#123;area=&quot;non-heap&quot;,cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;&#125; 1.80895256e+08</span><br><span class="line"># HELP elasticsearch_node_stats_json_parse_failures Number of errors while parsing JSON.</span><br><span class="line"># TYPE elasticsearch_node_stats_json_parse_failures counter</span><br><span class="line">elasticsearch_node_stats_json_parse_failures 0</span><br><span class="line"># HELP elasticsearch_node_stats_total_scrapes Current total ElasticSearch node scrapes.</span><br><span class="line"># TYPE elasticsearch_node_stats_total_scrapes counter</span><br><span class="line">elasticsearch_node_stats_total_scrapes 86</span><br><span class="line"># HELP elasticsearch_node_stats_up Was the last scrape of the ElasticSearch nodes endpoint successful.</span><br><span class="line"># TYPE elasticsearch_node_stats_up gauge</span><br><span class="line">elasticsearch_node_stats_up 1</span><br><span class="line"># HELP elasticsearch_nodes_roles Node roles</span><br><span class="line"># TYPE elasticsearch_nodes_roles gauge</span><br><span class="line">elasticsearch_nodes_roles&#123;cluster=&quot;powercloud_log&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,role=&quot;client&quot;&#125; 1</span><br><span class="line">elasticsearch_nodes_roles&#123;cluster=&quot;powercloud_log&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,role=&quot;data&quot;&#125; 1</span><br><span class="line">elasticsearch_nodes_roles&#123;cluster=&quot;powercloud_log&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,role=&quot;ingest&quot;&#125; 1</span><br><span class="line">elasticsearch_nodes_roles&#123;cluster=&quot;powercloud_log&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,role=&quot;master&quot;&#125; 1</span><br><span class="line"># HELP elasticsearch_os_cpu_percent Percent CPU used by OS</span><br><span class="line"># TYPE elasticsearch_os_cpu_percent gauge</span><br><span class="line">elasticsearch_os_cpu_percent&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;&#125; 25</span><br><span class="line"># HELP elasticsearch_os_load1 Shortterm load average</span><br><span class="line"># TYPE elasticsearch_os_load1 gauge</span><br><span class="line">elasticsearch_os_load1&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;&#125; 0.47</span><br><span class="line"># HELP elasticsearch_os_load15 Longterm load average</span><br><span class="line"># TYPE elasticsearch_os_load15 gauge</span><br><span class="line">elasticsearch_os_load15&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;&#125; 1.04</span><br><span class="line"># HELP elasticsearch_os_load5 Midterm load average</span><br><span class="line"># TYPE elasticsearch_os_load5 gauge</span><br><span class="line">elasticsearch_os_load5&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;&#125; 0.91</span><br><span class="line"># HELP elasticsearch_os_mem_actual_free_bytes Amount of free physical memory in bytes</span><br><span class="line"># TYPE elasticsearch_os_mem_actual_free_bytes gauge</span><br><span class="line">elasticsearch_os_mem_actual_free_bytes&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;&#125; 0</span><br><span class="line"># HELP elasticsearch_os_mem_actual_used_bytes Amount of used physical memory in bytes</span><br><span class="line"># TYPE elasticsearch_os_mem_actual_used_bytes gauge</span><br><span class="line">elasticsearch_os_mem_actual_used_bytes&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;&#125; 0</span><br><span class="line"># HELP elasticsearch_os_mem_free_bytes Amount of free physical memory in bytes</span><br><span class="line"># TYPE elasticsearch_os_mem_free_bytes gauge</span><br><span class="line">elasticsearch_os_mem_free_bytes&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;&#125; 4.4890112e+08</span><br><span class="line"># HELP elasticsearch_os_mem_used_bytes Amount of used physical memory in bytes</span><br><span class="line"># TYPE elasticsearch_os_mem_used_bytes gauge</span><br><span class="line">elasticsearch_os_mem_used_bytes&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;&#125; 7.752511488e+09</span><br><span class="line"># HELP elasticsearch_process_cpu_percent Percent CPU used by process</span><br><span class="line"># TYPE elasticsearch_process_cpu_percent gauge</span><br><span class="line">elasticsearch_process_cpu_percent&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;&#125; 11</span><br><span class="line"># HELP elasticsearch_process_cpu_time_seconds_sum Process CPU time in seconds</span><br><span class="line"># TYPE elasticsearch_process_cpu_time_seconds_sum counter</span><br><span class="line">elasticsearch_process_cpu_time_seconds_sum&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,type=&quot;sys&quot;&#125; 0</span><br><span class="line">elasticsearch_process_cpu_time_seconds_sum&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,type=&quot;total&quot;&#125; 3.33384018e+06</span><br><span class="line">elasticsearch_process_cpu_time_seconds_sum&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,type=&quot;user&quot;&#125; 0</span><br><span class="line"># HELP elasticsearch_process_max_files_descriptors Max file descriptors</span><br><span class="line"># TYPE elasticsearch_process_max_files_descriptors gauge</span><br><span class="line">elasticsearch_process_max_files_descriptors&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;&#125; 131072</span><br><span class="line"># HELP elasticsearch_process_mem_resident_size_bytes Resident memory in use by process in bytes</span><br><span class="line"># TYPE elasticsearch_process_mem_resident_size_bytes gauge</span><br><span class="line">elasticsearch_process_mem_resident_size_bytes&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;&#125; 0</span><br><span class="line"># HELP elasticsearch_process_mem_share_size_bytes Shared memory in use by process in bytes</span><br><span class="line"># TYPE elasticsearch_process_mem_share_size_bytes gauge</span><br><span class="line">elasticsearch_process_mem_share_size_bytes&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;&#125; 0</span><br><span class="line"># HELP elasticsearch_process_mem_virtual_size_bytes Total virtual memory used in bytes</span><br><span class="line"># TYPE elasticsearch_process_mem_virtual_size_bytes gauge</span><br><span class="line">elasticsearch_process_mem_virtual_size_bytes&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;&#125; 7.020691456e+09</span><br><span class="line"># HELP elasticsearch_process_open_files_count Open file descriptors</span><br><span class="line"># TYPE elasticsearch_process_open_files_count gauge</span><br><span class="line">elasticsearch_process_open_files_count&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;&#125; 9494</span><br><span class="line"># HELP elasticsearch_thread_pool_active_count Thread Pool threads active</span><br><span class="line"># TYPE elasticsearch_thread_pool_active_count gauge</span><br><span class="line">elasticsearch_thread_pool_active_count&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,type=&quot;analyze&quot;&#125; 0</span><br><span class="line">elasticsearch_thread_pool_active_count&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,type=&quot;ccr&quot;&#125; 0</span><br><span class="line">elasticsearch_thread_pool_active_count&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,type=&quot;fetch_shard_started&quot;&#125; 0</span><br><span class="line">elasticsearch_thread_pool_active_count&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,type=&quot;fetch_shard_store&quot;&#125; 0</span><br><span class="line">elasticsearch_thread_pool_active_count&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,type=&quot;flush&quot;&#125; 0</span><br><span class="line">elasticsearch_thread_pool_active_count&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,type=&quot;force_merge&quot;&#125; 0</span><br><span class="line">elasticsearch_thread_pool_active_count&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,type=&quot;generic&quot;&#125; 0</span><br><span class="line">elasticsearch_thread_pool_active_count&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,type=&quot;get&quot;&#125; 0</span><br><span class="line">elasticsearch_thread_pool_active_count&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,type=&quot;index&quot;&#125; 0</span><br><span class="line">elasticsearch_thread_pool_active_count&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,type=&quot;listener&quot;&#125; 0</span><br><span class="line">elasticsearch_thread_pool_active_count&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,type=&quot;management&quot;&#125; 1</span><br><span class="line">elasticsearch_thread_pool_active_count&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,type=&quot;ml_autodetect&quot;&#125; 0</span><br><span class="line">elasticsearch_thread_pool_active_count&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,type=&quot;ml_datafeed&quot;&#125; 0</span><br><span class="line">elasticsearch_thread_pool_active_count&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,type=&quot;ml_utility&quot;&#125; 0</span><br><span class="line">elasticsearch_thread_pool_active_count&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,type=&quot;refresh&quot;&#125; 0</span><br><span class="line">elasticsearch_thread_pool_active_count&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,type=&quot;rollup_indexing&quot;&#125; 0</span><br><span class="line">elasticsearch_thread_pool_active_count&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,type=&quot;search&quot;&#125; 0</span><br><span class="line">elasticsearch_thread_pool_active_count&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,type=&quot;search_throttled&quot;&#125; 0</span><br><span class="line">elasticsearch_thread_pool_active_count&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,type=&quot;security-token-key&quot;&#125; 0</span><br><span class="line">elasticsearch_thread_pool_active_count&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,type=&quot;snapshot&quot;&#125; 0</span><br><span class="line">elasticsearch_thread_pool_active_count&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,type=&quot;warmer&quot;&#125; 0</span><br><span class="line">elasticsearch_thread_pool_active_count&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,type=&quot;watcher&quot;&#125; 0</span><br><span class="line">elasticsearch_thread_pool_active_count&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,type=&quot;write&quot;&#125; 0</span><br><span class="line"># HELP elasticsearch_thread_pool_completed_count Thread Pool operations completed</span><br><span class="line"># TYPE elasticsearch_thread_pool_completed_count counter</span><br><span class="line">elasticsearch_thread_pool_completed_count&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,type=&quot;analyze&quot;&#125; 0</span><br><span class="line">elasticsearch_thread_pool_completed_count&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,type=&quot;ccr&quot;&#125; 0</span><br><span class="line">elasticsearch_thread_pool_completed_count&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,type=&quot;fetch_shard_started&quot;&#125; 364</span><br><span class="line">elasticsearch_thread_pool_completed_count&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,type=&quot;fetch_shard_store&quot;&#125; 0</span><br><span class="line">elasticsearch_thread_pool_completed_count&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,type=&quot;flush&quot;&#125; 177298</span><br><span class="line">elasticsearch_thread_pool_completed_count&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,type=&quot;force_merge&quot;&#125; 0</span><br><span class="line">elasticsearch_thread_pool_completed_count&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,type=&quot;generic&quot;&#125; 4.17230997e+08</span><br><span class="line">elasticsearch_thread_pool_completed_count&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,type=&quot;get&quot;&#125; 2.8834648e+07</span><br><span class="line">elasticsearch_thread_pool_completed_count&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,type=&quot;index&quot;&#125; 2.8825882e+07</span><br><span class="line">elasticsearch_thread_pool_completed_count&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,type=&quot;listener&quot;&#125; 2.7632481e+07</span><br><span class="line">elasticsearch_thread_pool_completed_count&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,type=&quot;management&quot;&#125; 3.89357528e+08</span><br><span class="line">elasticsearch_thread_pool_completed_count&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,type=&quot;ml_autodetect&quot;&#125; 0</span><br><span class="line">elasticsearch_thread_pool_completed_count&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,type=&quot;ml_datafeed&quot;&#125; 0</span><br><span class="line">elasticsearch_thread_pool_completed_count&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,type=&quot;ml_utility&quot;&#125; 607</span><br><span class="line">elasticsearch_thread_pool_completed_count&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,type=&quot;refresh&quot;&#125; 6.07410367e+08</span><br><span class="line">elasticsearch_thread_pool_completed_count&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,type=&quot;rollup_indexing&quot;&#125; 0</span><br><span class="line">elasticsearch_thread_pool_completed_count&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,type=&quot;search&quot;&#125; 7.75406281e+08</span><br><span class="line">elasticsearch_thread_pool_completed_count&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,type=&quot;search_throttled&quot;&#125; 0</span><br><span class="line">elasticsearch_thread_pool_completed_count&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,type=&quot;security-token-key&quot;&#125; 0</span><br><span class="line">elasticsearch_thread_pool_completed_count&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,type=&quot;snapshot&quot;&#125; 0</span><br><span class="line">elasticsearch_thread_pool_completed_count&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,type=&quot;warmer&quot;&#125; 0</span><br><span class="line">elasticsearch_thread_pool_completed_count&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,type=&quot;watcher&quot;&#125; 0</span><br><span class="line">elasticsearch_thread_pool_completed_count&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,type=&quot;write&quot;&#125; 6.7644324e+07</span><br><span class="line"># HELP elasticsearch_thread_pool_largest_count Thread Pool largest threads count</span><br><span class="line"># TYPE elasticsearch_thread_pool_largest_count gauge</span><br><span class="line">elasticsearch_thread_pool_largest_count&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,type=&quot;analyze&quot;&#125; 0</span><br><span class="line">elasticsearch_thread_pool_largest_count&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,type=&quot;ccr&quot;&#125; 0</span><br><span class="line">elasticsearch_thread_pool_largest_count&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,type=&quot;fetch_shard_started&quot;&#125; 8</span><br><span class="line">elasticsearch_thread_pool_largest_count&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,type=&quot;fetch_shard_store&quot;&#125; 0</span><br><span class="line">elasticsearch_thread_pool_largest_count&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,type=&quot;flush&quot;&#125; 2</span><br><span class="line">elasticsearch_thread_pool_largest_count&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,type=&quot;force_merge&quot;&#125; 0</span><br><span class="line">elasticsearch_thread_pool_largest_count&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,type=&quot;generic&quot;&#125; 128</span><br><span class="line">elasticsearch_thread_pool_largest_count&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,type=&quot;get&quot;&#125; 4</span><br><span class="line">elasticsearch_thread_pool_largest_count&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,type=&quot;index&quot;&#125; 4</span><br><span class="line">elasticsearch_thread_pool_largest_count&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,type=&quot;listener&quot;&#125; 2</span><br><span class="line">elasticsearch_thread_pool_largest_count&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,type=&quot;management&quot;&#125; 5</span><br><span class="line">elasticsearch_thread_pool_largest_count&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,type=&quot;ml_autodetect&quot;&#125; 0</span><br><span class="line">elasticsearch_thread_pool_largest_count&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,type=&quot;ml_datafeed&quot;&#125; 0</span><br><span class="line">elasticsearch_thread_pool_largest_count&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,type=&quot;ml_utility&quot;&#125; 80</span><br><span class="line">elasticsearch_thread_pool_largest_count&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,type=&quot;refresh&quot;&#125; 2</span><br><span class="line">elasticsearch_thread_pool_largest_count&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,type=&quot;rollup_indexing&quot;&#125; 0</span><br><span class="line">elasticsearch_thread_pool_largest_count&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,type=&quot;search&quot;&#125; 7</span><br><span class="line">elasticsearch_thread_pool_largest_count&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,type=&quot;search_throttled&quot;&#125; 0</span><br><span class="line">elasticsearch_thread_pool_largest_count&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,type=&quot;security-token-key&quot;&#125; 0</span><br><span class="line">elasticsearch_thread_pool_largest_count&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,type=&quot;snapshot&quot;&#125; 0</span><br><span class="line">elasticsearch_thread_pool_largest_count&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,type=&quot;warmer&quot;&#125; 0</span><br><span class="line">elasticsearch_thread_pool_largest_count&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,type=&quot;watcher&quot;&#125; 0</span><br><span class="line">elasticsearch_thread_pool_largest_count&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,type=&quot;write&quot;&#125; 4</span><br><span class="line"># HELP elasticsearch_thread_pool_queue_count Thread Pool operations queued</span><br><span class="line"># TYPE elasticsearch_thread_pool_queue_count gauge</span><br><span class="line">elasticsearch_thread_pool_queue_count&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,type=&quot;analyze&quot;&#125; 0</span><br><span class="line">elasticsearch_thread_pool_queue_count&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,type=&quot;ccr&quot;&#125; 0</span><br><span class="line">elasticsearch_thread_pool_queue_count&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,type=&quot;fetch_shard_started&quot;&#125; 0</span><br><span class="line">elasticsearch_thread_pool_queue_count&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,type=&quot;fetch_shard_store&quot;&#125; 0</span><br><span class="line">elasticsearch_thread_pool_queue_count&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,type=&quot;flush&quot;&#125; 0</span><br><span class="line">elasticsearch_thread_pool_queue_count&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,type=&quot;force_merge&quot;&#125; 0</span><br><span class="line">elasticsearch_thread_pool_queue_count&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,type=&quot;generic&quot;&#125; 0</span><br><span class="line">elasticsearch_thread_pool_queue_count&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,type=&quot;get&quot;&#125; 0</span><br><span class="line">elasticsearch_thread_pool_queue_count&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,type=&quot;index&quot;&#125; 0</span><br><span class="line">elasticsearch_thread_pool_queue_count&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,type=&quot;listener&quot;&#125; 0</span><br><span class="line">elasticsearch_thread_pool_queue_count&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,type=&quot;management&quot;&#125; 0</span><br><span class="line">elasticsearch_thread_pool_queue_count&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,type=&quot;ml_autodetect&quot;&#125; 0</span><br><span class="line">elasticsearch_thread_pool_queue_count&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,type=&quot;ml_datafeed&quot;&#125; 0</span><br><span class="line">elasticsearch_thread_pool_queue_count&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,type=&quot;ml_utility&quot;&#125; 0</span><br><span class="line">elasticsearch_thread_pool_queue_count&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,type=&quot;refresh&quot;&#125; 0</span><br><span class="line">elasticsearch_thread_pool_queue_count&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,type=&quot;rollup_indexing&quot;&#125; 0</span><br><span class="line">elasticsearch_thread_pool_queue_count&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,type=&quot;search&quot;&#125; 0</span><br><span class="line">elasticsearch_thread_pool_queue_count&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,type=&quot;search_throttled&quot;&#125; 0</span><br><span class="line">elasticsearch_thread_pool_queue_count&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,type=&quot;security-token-key&quot;&#125; 0</span><br><span class="line">elasticsearch_thread_pool_queue_count&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,type=&quot;snapshot&quot;&#125; 0</span><br><span class="line">elasticsearch_thread_pool_queue_count&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,type=&quot;warmer&quot;&#125; 0</span><br><span class="line">elasticsearch_thread_pool_queue_count&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,type=&quot;watcher&quot;&#125; 0</span><br><span class="line">elasticsearch_thread_pool_queue_count&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,type=&quot;write&quot;&#125; 0</span><br><span class="line"># HELP elasticsearch_thread_pool_rejected_count Thread Pool operations rejected</span><br><span class="line"># TYPE elasticsearch_thread_pool_rejected_count counter</span><br><span class="line">elasticsearch_thread_pool_rejected_count&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,type=&quot;analyze&quot;&#125; 0</span><br><span class="line">elasticsearch_thread_pool_rejected_count&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,type=&quot;ccr&quot;&#125; 0</span><br><span class="line">elasticsearch_thread_pool_rejected_count&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,type=&quot;fetch_shard_started&quot;&#125; 0</span><br><span class="line">elasticsearch_thread_pool_rejected_count&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,type=&quot;fetch_shard_store&quot;&#125; 0</span><br><span class="line">elasticsearch_thread_pool_rejected_count&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,type=&quot;flush&quot;&#125; 0</span><br><span class="line">elasticsearch_thread_pool_rejected_count&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,type=&quot;force_merge&quot;&#125; 0</span><br><span class="line">elasticsearch_thread_pool_rejected_count&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,type=&quot;generic&quot;&#125; 0</span><br><span class="line">elasticsearch_thread_pool_rejected_count&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,type=&quot;get&quot;&#125; 0</span><br><span class="line">elasticsearch_thread_pool_rejected_count&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,type=&quot;index&quot;&#125; 0</span><br><span class="line">elasticsearch_thread_pool_rejected_count&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,type=&quot;listener&quot;&#125; 0</span><br><span class="line">elasticsearch_thread_pool_rejected_count&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,type=&quot;management&quot;&#125; 0</span><br><span class="line">elasticsearch_thread_pool_rejected_count&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,type=&quot;ml_autodetect&quot;&#125; 0</span><br><span class="line">elasticsearch_thread_pool_rejected_count&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,type=&quot;ml_datafeed&quot;&#125; 0</span><br><span class="line">elasticsearch_thread_pool_rejected_count&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,type=&quot;ml_utility&quot;&#125; 0</span><br><span class="line">elasticsearch_thread_pool_rejected_count&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,type=&quot;refresh&quot;&#125; 0</span><br><span class="line">elasticsearch_thread_pool_rejected_count&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,type=&quot;rollup_indexing&quot;&#125; 0</span><br><span class="line">elasticsearch_thread_pool_rejected_count&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,type=&quot;search&quot;&#125; 0</span><br><span class="line">elasticsearch_thread_pool_rejected_count&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,type=&quot;search_throttled&quot;&#125; 0</span><br><span class="line">elasticsearch_thread_pool_rejected_count&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,type=&quot;security-token-key&quot;&#125; 0</span><br><span class="line">elasticsearch_thread_pool_rejected_count&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,type=&quot;snapshot&quot;&#125; 0</span><br><span class="line">elasticsearch_thread_pool_rejected_count&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,type=&quot;warmer&quot;&#125; 0</span><br><span class="line">elasticsearch_thread_pool_rejected_count&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,type=&quot;watcher&quot;&#125; 0</span><br><span class="line">elasticsearch_thread_pool_rejected_count&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,type=&quot;write&quot;&#125; 0</span><br><span class="line"># HELP elasticsearch_thread_pool_threads_count Thread Pool current threads count</span><br><span class="line"># TYPE elasticsearch_thread_pool_threads_count gauge</span><br><span class="line">elasticsearch_thread_pool_threads_count&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,type=&quot;analyze&quot;&#125; 0</span><br><span class="line">elasticsearch_thread_pool_threads_count&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,type=&quot;ccr&quot;&#125; 0</span><br><span class="line">elasticsearch_thread_pool_threads_count&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,type=&quot;fetch_shard_started&quot;&#125; 1</span><br><span class="line">elasticsearch_thread_pool_threads_count&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,type=&quot;fetch_shard_store&quot;&#125; 0</span><br><span class="line">elasticsearch_thread_pool_threads_count&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,type=&quot;flush&quot;&#125; 2</span><br><span class="line">elasticsearch_thread_pool_threads_count&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,type=&quot;force_merge&quot;&#125; 0</span><br><span class="line">elasticsearch_thread_pool_threads_count&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,type=&quot;generic&quot;&#125; 128</span><br><span class="line">elasticsearch_thread_pool_threads_count&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,type=&quot;get&quot;&#125; 4</span><br><span class="line">elasticsearch_thread_pool_threads_count&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,type=&quot;index&quot;&#125; 4</span><br><span class="line">elasticsearch_thread_pool_threads_count&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,type=&quot;listener&quot;&#125; 2</span><br><span class="line">elasticsearch_thread_pool_threads_count&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,type=&quot;management&quot;&#125; 5</span><br><span class="line">elasticsearch_thread_pool_threads_count&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,type=&quot;ml_autodetect&quot;&#125; 0</span><br><span class="line">elasticsearch_thread_pool_threads_count&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,type=&quot;ml_datafeed&quot;&#125; 0</span><br><span class="line">elasticsearch_thread_pool_threads_count&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,type=&quot;ml_utility&quot;&#125; 80</span><br><span class="line">elasticsearch_thread_pool_threads_count&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,type=&quot;refresh&quot;&#125; 2</span><br><span class="line">elasticsearch_thread_pool_threads_count&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,type=&quot;rollup_indexing&quot;&#125; 0</span><br><span class="line">elasticsearch_thread_pool_threads_count&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,type=&quot;search&quot;&#125; 7</span><br><span class="line">elasticsearch_thread_pool_threads_count&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,type=&quot;search_throttled&quot;&#125; 0</span><br><span class="line">elasticsearch_thread_pool_threads_count&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,type=&quot;security-token-key&quot;&#125; 0</span><br><span class="line">elasticsearch_thread_pool_threads_count&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,type=&quot;snapshot&quot;&#125; 0</span><br><span class="line">elasticsearch_thread_pool_threads_count&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,type=&quot;warmer&quot;&#125; 0</span><br><span class="line">elasticsearch_thread_pool_threads_count&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,type=&quot;watcher&quot;&#125; 0</span><br><span class="line">elasticsearch_thread_pool_threads_count&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;,type=&quot;write&quot;&#125; 4</span><br><span class="line"># HELP elasticsearch_transport_rx_packets_total Count of packets received</span><br><span class="line"># TYPE elasticsearch_transport_rx_packets_total counter</span><br><span class="line">elasticsearch_transport_rx_packets_total&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;&#125; 0</span><br><span class="line"># HELP elasticsearch_transport_rx_size_bytes_total Total number of bytes received</span><br><span class="line"># TYPE elasticsearch_transport_rx_size_bytes_total counter</span><br><span class="line">elasticsearch_transport_rx_size_bytes_total&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;&#125; 0</span><br><span class="line"># HELP elasticsearch_transport_tx_packets_total Count of packets sent</span><br><span class="line"># TYPE elasticsearch_transport_tx_packets_total counter</span><br><span class="line">elasticsearch_transport_tx_packets_total&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;&#125; 0</span><br><span class="line"># HELP elasticsearch_transport_tx_size_bytes_total Total number of bytes sent</span><br><span class="line"># TYPE elasticsearch_transport_tx_size_bytes_total counter</span><br><span class="line">elasticsearch_transport_tx_size_bytes_total&#123;cluster=&quot;powercloud_log&quot;,es_client_node=&quot;true&quot;,es_data_node=&quot;true&quot;,es_ingest_node=&quot;true&quot;,es_master_node=&quot;true&quot;,host=&quot;172.18.40.65&quot;,name=&quot;node-65&quot;&#125; 0</span><br><span class="line"># HELP go_gc_duration_seconds A summary of the pause duration of garbage collection cycles.</span><br><span class="line"># TYPE go_gc_duration_seconds summary</span><br><span class="line">go_gc_duration_seconds&#123;quantile=&quot;0&quot;&#125; 3.6794e-05</span><br><span class="line">go_gc_duration_seconds&#123;quantile=&quot;0.25&quot;&#125; 6.2783e-05</span><br><span class="line">go_gc_duration_seconds&#123;quantile=&quot;0.5&quot;&#125; 8.6707e-05</span><br><span class="line">go_gc_duration_seconds&#123;quantile=&quot;0.75&quot;&#125; 0.00011003</span><br><span class="line">go_gc_duration_seconds&#123;quantile=&quot;1&quot;&#125; 0.015864101</span><br><span class="line">go_gc_duration_seconds_sum 0.02416966</span><br><span class="line">go_gc_duration_seconds_count 40</span><br><span class="line"># HELP go_goroutines Number of goroutines that currently exist.</span><br><span class="line"># TYPE go_goroutines gauge</span><br><span class="line">go_goroutines 19</span><br><span class="line"># HELP go_info Information about the Go environment.</span><br><span class="line"># TYPE go_info gauge</span><br><span class="line">go_info&#123;version=&quot;go1.16.9&quot;&#125; 1</span><br><span class="line"># HELP go_memstats_alloc_bytes Number of bytes allocated and still in use.</span><br><span class="line"># TYPE go_memstats_alloc_bytes gauge</span><br><span class="line">go_memstats_alloc_bytes 3.887952e+06</span><br><span class="line"># HELP go_memstats_alloc_bytes_total Total number of bytes allocated, even if freed.</span><br><span class="line"># TYPE go_memstats_alloc_bytes_total counter</span><br><span class="line">go_memstats_alloc_bytes_total 9.1755768e+07</span><br><span class="line"># HELP go_memstats_buck_hash_sys_bytes Number of bytes used by the profiling bucket hash table.</span><br><span class="line"># TYPE go_memstats_buck_hash_sys_bytes gauge</span><br><span class="line">go_memstats_buck_hash_sys_bytes 1.458561e+06</span><br><span class="line"># HELP go_memstats_frees_total Total number of frees.</span><br><span class="line"># TYPE go_memstats_frees_total counter</span><br><span class="line">go_memstats_frees_total 884448</span><br><span class="line"># HELP go_memstats_gc_cpu_fraction The fraction of this program&#x27;s available CPU time used by the GC since the program started.</span><br><span class="line"># TYPE go_memstats_gc_cpu_fraction gauge</span><br><span class="line">go_memstats_gc_cpu_fraction 2.339386189125989e-05</span><br><span class="line"># HELP go_memstats_gc_sys_bytes Number of bytes used for garbage collection system metadata.</span><br><span class="line"># TYPE go_memstats_gc_sys_bytes gauge</span><br><span class="line">go_memstats_gc_sys_bytes 5.026296e+06</span><br><span class="line"># HELP go_memstats_heap_alloc_bytes Number of heap bytes allocated and still in use.</span><br><span class="line"># TYPE go_memstats_heap_alloc_bytes gauge</span><br><span class="line">go_memstats_heap_alloc_bytes 3.887952e+06</span><br><span class="line"># HELP go_memstats_heap_idle_bytes Number of heap bytes waiting to be used.</span><br><span class="line"># TYPE go_memstats_heap_idle_bytes gauge</span><br><span class="line">go_memstats_heap_idle_bytes 6.1202432e+07</span><br><span class="line"># HELP go_memstats_heap_inuse_bytes Number of heap bytes that are in use.</span><br><span class="line"># TYPE go_memstats_heap_inuse_bytes gauge</span><br><span class="line">go_memstats_heap_inuse_bytes 5.185536e+06</span><br><span class="line"># HELP go_memstats_heap_objects Number of allocated objects.</span><br><span class="line"># TYPE go_memstats_heap_objects gauge</span><br><span class="line">go_memstats_heap_objects 16097</span><br><span class="line"># HELP go_memstats_heap_released_bytes Number of heap bytes released to OS.</span><br><span class="line"># TYPE go_memstats_heap_released_bytes gauge</span><br><span class="line">go_memstats_heap_released_bytes 6.0555264e+07</span><br><span class="line"># HELP go_memstats_heap_sys_bytes Number of heap bytes obtained from system.</span><br><span class="line"># TYPE go_memstats_heap_sys_bytes gauge</span><br><span class="line">go_memstats_heap_sys_bytes 6.6387968e+07</span><br><span class="line"># HELP go_memstats_last_gc_time_seconds Number of seconds since 1970 of last garbage collection.</span><br><span class="line"># TYPE go_memstats_last_gc_time_seconds gauge</span><br><span class="line">go_memstats_last_gc_time_seconds 1.6412798140310771e+09</span><br><span class="line"># HELP go_memstats_lookups_total Total number of pointer lookups.</span><br><span class="line"># TYPE go_memstats_lookups_total counter</span><br><span class="line">go_memstats_lookups_total 0</span><br><span class="line"># HELP go_memstats_mallocs_total Total number of mallocs.</span><br><span class="line"># TYPE go_memstats_mallocs_total counter</span><br><span class="line">go_memstats_mallocs_total 900545</span><br><span class="line"># HELP go_memstats_mcache_inuse_bytes Number of bytes in use by mcache structures.</span><br><span class="line"># TYPE go_memstats_mcache_inuse_bytes gauge</span><br><span class="line">go_memstats_mcache_inuse_bytes 4800</span><br><span class="line"># HELP go_memstats_mcache_sys_bytes Number of bytes used for mcache structures obtained from system.</span><br><span class="line"># TYPE go_memstats_mcache_sys_bytes gauge</span><br><span class="line">go_memstats_mcache_sys_bytes 16384</span><br><span class="line"># HELP go_memstats_mspan_inuse_bytes Number of bytes in use by mspan structures.</span><br><span class="line"># TYPE go_memstats_mspan_inuse_bytes gauge</span><br><span class="line">go_memstats_mspan_inuse_bytes 84456</span><br><span class="line"># HELP go_memstats_mspan_sys_bytes Number of bytes used for mspan structures obtained from system.</span><br><span class="line"># TYPE go_memstats_mspan_sys_bytes gauge</span><br><span class="line">go_memstats_mspan_sys_bytes 98304</span><br><span class="line"># HELP go_memstats_next_gc_bytes Number of heap bytes when next garbage collection will take place.</span><br><span class="line"># TYPE go_memstats_next_gc_bytes gauge</span><br><span class="line">go_memstats_next_gc_bytes 5.69084e+06</span><br><span class="line"># HELP go_memstats_other_sys_bytes Number of bytes used for other system allocations.</span><br><span class="line"># TYPE go_memstats_other_sys_bytes gauge</span><br><span class="line">go_memstats_other_sys_bytes 856207</span><br><span class="line"># HELP go_memstats_stack_inuse_bytes Number of bytes in use by the stack allocator.</span><br><span class="line"># TYPE go_memstats_stack_inuse_bytes gauge</span><br><span class="line">go_memstats_stack_inuse_bytes 688128</span><br><span class="line"># HELP go_memstats_stack_sys_bytes Number of bytes obtained from system for stack allocator.</span><br><span class="line"># TYPE go_memstats_stack_sys_bytes gauge</span><br><span class="line">go_memstats_stack_sys_bytes 688128</span><br><span class="line"># HELP go_memstats_sys_bytes Number of bytes obtained from system.</span><br><span class="line"># TYPE go_memstats_sys_bytes gauge</span><br><span class="line">go_memstats_sys_bytes 7.4531848e+07</span><br><span class="line"># HELP go_threads Number of OS threads created.</span><br><span class="line"># TYPE go_threads gauge</span><br><span class="line">go_threads 9</span><br><span class="line"># HELP process_cpu_seconds_total Total user and system CPU time spent in seconds.</span><br><span class="line"># TYPE process_cpu_seconds_total counter</span><br><span class="line">process_cpu_seconds_total 0.87</span><br><span class="line"># HELP process_max_fds Maximum number of open file descriptors.</span><br><span class="line"># TYPE process_max_fds gauge</span><br><span class="line">process_max_fds 131072</span><br><span class="line"># HELP process_open_fds Number of open file descriptors.</span><br><span class="line"># TYPE process_open_fds gauge</span><br><span class="line">process_open_fds 13</span><br><span class="line"># HELP process_resident_memory_bytes Resident memory size in bytes.</span><br><span class="line"># TYPE process_resident_memory_bytes gauge</span><br><span class="line">process_resident_memory_bytes 1.5499264e+07</span><br><span class="line"># HELP process_start_time_seconds Start time of the process since unix epoch in seconds.</span><br><span class="line"># TYPE process_start_time_seconds gauge</span><br><span class="line">process_start_time_seconds 1.64127828876e+09</span><br><span class="line"># HELP process_virtual_memory_bytes Virtual memory size in bytes.</span><br><span class="line"># TYPE process_virtual_memory_bytes gauge</span><br><span class="line">process_virtual_memory_bytes 7.31824128e+08</span><br><span class="line"># HELP process_virtual_memory_max_bytes Maximum amount of virtual memory available in bytes.</span><br><span class="line"># TYPE process_virtual_memory_max_bytes gauge</span><br><span class="line">process_virtual_memory_max_bytes 1.8446744073709552e+19</span><br><span class="line"># HELP promhttp_metric_handler_requests_in_flight Current number of scrapes being served.</span><br><span class="line"># TYPE promhttp_metric_handler_requests_in_flight gauge</span><br><span class="line">promhttp_metric_handler_requests_in_flight 1</span><br><span class="line"># HELP promhttp_metric_handler_requests_total Total number of scrapes by HTTP status code.</span><br><span class="line"># TYPE promhttp_metric_handler_requests_total counter</span><br><span class="line">promhttp_metric_handler_requests_total&#123;code=&quot;200&quot;&#125; 85</span><br><span class="line">promhttp_metric_handler_requests_total&#123;code=&quot;500&quot;&#125; 0</span><br><span class="line">promhttp_metric_handler_requests_total&#123;code=&quot;503&quot;&#125; 0</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> prometheus </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 云监控 </tag>
            
            <tag> 云计算 </tag>
            
            <tag> prometheus </tag>
            
            <tag> elasticsearch-exporter </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hello World</title>
      <link href="/2022/01/06/hello-world/"/>
      <url>/2022/01/06/hello-world/</url>
      
        <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>prometheus监控之node各项指标</title>
      <link href="/2022/01/06/prometheus%E7%9B%91%E6%8E%A7%E4%B9%8Bnode%E5%90%84%E9%A1%B9%E6%8C%87%E6%A0%87/"/>
      <url>/2022/01/06/prometheus%E7%9B%91%E6%8E%A7%E4%B9%8Bnode%E5%90%84%E9%A1%B9%E6%8C%87%E6%A0%87/</url>
      
        <content type="html"><![CDATA[<h1 id="根据node-exporter采集的指标得到想要的指标"><a href="#根据node-exporter采集的指标得到想要的指标" class="headerlink" title="根据node-exporter采集的指标得到想要的指标"></a>根据node-exporter采集的指标得到想要的指标</h1><ol><li><p>所有node节点的磁盘大小总和</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">type：Singlestat</span><br><span class="line">Unit： bytes</span><br><span class="line">metrics:</span><br><span class="line">sum(node_filesystem_size_bytes&#123;device=~&quot;/.*&quot;&#125;)</span><br></pre></td></tr></table></figure></li><li><p>所有node节点的内存大小总和</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">type：Singlestat</span><br><span class="line">Unit： bytes</span><br><span class="line">metrics:</span><br><span class="line">sum(node_memory_MemTotal_bytes)</span><br></pre></td></tr></table></figure></li><li><p>所有node节点的CPU大小总和</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">type：Singlestat</span><br><span class="line">Unit： bytes</span><br><span class="line">metrics:</span><br><span class="line">count(node_cpu_seconds_total&#123;mode=&#x27;system&#x27;&#125;)</span><br></pre></td></tr></table></figure></li><li></li></ol><h1 id="node-exporter采集的指标"><a href="#node-exporter采集的指标" class="headerlink" title="node-exporter采集的指标"></a>node-exporter采集的指标</h1>]]></content>
      
      
      <categories>
          
          <category> prometheus </category>
          
      </categories>
      
      
        <tags>
            
            <tag> prometheus </tag>
            
            <tag> node-exporter </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>img-test</title>
      <link href="/2022/01/06/img-test/"/>
      <url>/2022/01/06/img-test/</url>
      
        <content type="html"><![CDATA[<p>用于测试图片是否可以正常展示</p><img src="/2022/01/06/img-test/image-20220106104706904.png" class="" title="This is an image"><p>操作步骤：</p><ol><li>在_config.yml 中修改如下配置为 true<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">post_asset_folder: true</span><br></pre></td></tr></table></figure></li><li>文章中使用图片</li></ol><ul><li>第一种可以使用，makedown的格式  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">![image-20220106105728993](image-20220106105728993.png)</span><br></pre></td></tr></table></figure></li><li>第二种 使用如下方式  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% asset_img image-20220106104706904.png This is an image %&#125;</span><br></pre></td></tr></table></figure></li></ul><blockquote><p>注意：其中的 image-20220106104706904.png 为需要展示的图片名称，该图片会放在与当前博客同名的目录下面</p></blockquote>]]></content>
      
      
      
        <tags>
            
            <tag> test </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>新的第一篇博客</title>
      <link href="/2022/01/06/my-first-blog/"/>
      <url>/2022/01/06/my-first-blog/</url>
      
        <content type="html"><![CDATA[<h1 id="开始新的博客"><a href="#开始新的博客" class="headerlink" title="开始新的博客"></a>开始新的博客</h1><p>这里使用github+hexo搭建了自己的博客，参考了如下的博客文章：<br>[GitHub Pages + Hexo搭建个人博客网站，史上最全教程] <a href="https://blog.csdn.net/yaorongke/article/details/119089190">https://blog.csdn.net/yaorongke/article/details/119089190</a></p><h1 id="hexo操作"><a href="#hexo操作" class="headerlink" title="hexo操作"></a>hexo操作</h1><ol><li>创建新博客文档<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new &#x27;博客文章标题&#x27;</span><br></pre></td></tr></table></figure></li><li>生成html文件<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo g</span><br></pre></td></tr></table></figure></li><li>发布到github<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo d</span><br></pre></td></tr></table></figure></li><li>启动本地<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo s</span><br></pre></td></tr></table></figure></li></ol><h1 id="在不同机器上更新博客"><a href="#在不同机器上更新博客" class="headerlink" title="在不同机器上更新博客"></a>在不同机器上更新博客</h1><ol><li><p>在新机器上安装npm</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># 这里根据不同的系统进行安装</span><br></pre></td></tr></table></figure></li><li><p>安装hexo</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-cli -g</span><br></pre></td></tr></table></figure></li><li><p>拉取github上面的项目</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone git@github.com:xxxxx/xxx.git</span><br></pre></td></tr></table></figure></li></ol><p>然后即可在博客的根目录下使用hexo进行操作</p>]]></content>
      
      
      
        <tags>
            
            <tag> test </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>prometheus服务动态发现之http_sd_config</title>
      <link href="/2021/12/22/prometheus%E6%9C%8D%E5%8A%A1%E5%8A%A8%E6%80%81%E5%8F%91%E7%8E%B0%E4%B9%8Bhttp_sd_config/"/>
      <url>/2021/12/22/prometheus%E6%9C%8D%E5%8A%A1%E5%8A%A8%E6%80%81%E5%8F%91%E7%8E%B0%E4%B9%8Bhttp_sd_config/</url>
      
        <content type="html"><![CDATA[<p>prometheus提供了多种动态服务发现的方式，这里讲一下<code>http_sd_config</code>的配置方法</p><h2 id="官方说明"><a href="#官方说明" class="headerlink" title="官方说明"></a>官方说明</h2><p>先来看下prometheus官方文档的说明</p><p><img src="image-20211222181659426.png" alt="image-20211222181659426"></p><p>大致就是说：需要自己提供一个http访问地址，prometheus能够通过访问该地址得到需要发现的服务节点的数据，并且该地址返回的json数据结构要与图中保持一致。</p><h2 id="配置说明"><a href="#配置说明" class="headerlink" title="配置说明"></a>配置说明</h2><p>再来看下关于该选项有哪些配置项：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 获取目标服务的地址</span></span><br><span class="line"><span class="attr">url:</span> <span class="string">&lt;string&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 刷新频率，间隔多久再次调用url获取目标服务</span></span><br><span class="line">[ <span class="attr">refresh_interval:</span> <span class="string">&lt;duration&gt;</span> <span class="string">|</span> <span class="string">default</span> <span class="string">=</span> <span class="string">60s</span> ]</span><br><span class="line"></span><br><span class="line"><span class="comment"># API服务器的身份验证信息，用于访问url时验证身份用</span></span><br><span class="line"><span class="comment"># 下面这几项 `basic_auth`, `authorization` 、`oauth2` 是互斥的，也就是说只需要根据具体情况配一项身份验证的方式就可以</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 可选的HTTP基本认证信息。其中 `password` and `password_file` 这两项是互斥的</span></span><br><span class="line"><span class="attr">basic_auth:</span></span><br><span class="line">  [ <span class="attr">username:</span> <span class="string">&lt;string&gt;</span> ]</span><br><span class="line">  [ <span class="attr">password:</span> <span class="string">&lt;secret&gt;</span> ]</span><br><span class="line">  [ <span class="attr">password_file:</span> <span class="string">&lt;string&gt;</span> ]</span><br><span class="line"></span><br><span class="line"><span class="comment"># 可选的“授权”头配置。</span></span><br><span class="line"><span class="attr">authorization:</span></span><br><span class="line">  <span class="comment"># Sets the authentication type.</span></span><br><span class="line">  [ <span class="attr">type:</span> <span class="string">&lt;string&gt;</span> <span class="string">|</span> <span class="attr">default:</span> <span class="string">Bearer</span> ]</span><br><span class="line">  <span class="comment"># Sets the credentials. It is mutually exclusive with</span></span><br><span class="line">  <span class="comment"># `credentials_file`.</span></span><br><span class="line">  [ <span class="attr">credentials:</span> <span class="string">&lt;secret&gt;</span> ]</span><br><span class="line">  <span class="comment"># Sets the credentials to the credentials read from the configured file.</span></span><br><span class="line">  <span class="comment"># It is mutually exclusive with `credentials`.</span></span><br><span class="line">  [ <span class="attr">credentials_file:</span> <span class="string">&lt;filename&gt;</span> ]</span><br><span class="line"></span><br><span class="line"><span class="comment"># #可选OAuth 2.0配置。</span></span><br><span class="line"><span class="attr">oauth2:</span></span><br><span class="line">  [ <span class="string">&lt;oauth2&gt;</span> ]</span><br><span class="line"></span><br><span class="line"><span class="comment"># Optional proxy URL.</span></span><br><span class="line">[ <span class="attr">proxy_url:</span> <span class="string">&lt;string&gt;</span> ]</span><br><span class="line"></span><br><span class="line"><span class="comment"># Configure whether HTTP requests follow HTTP 3xx redirects.</span></span><br><span class="line">[ <span class="attr">follow_redirects:</span> <span class="string">&lt;bool&gt;</span> <span class="string">|</span> <span class="string">default</span> <span class="string">=</span> <span class="literal">true</span> ]</span><br><span class="line"></span><br><span class="line"><span class="comment"># TLS configuration.</span></span><br><span class="line"><span class="attr">tls_config:</span></span><br><span class="line">  [ <span class="string">&lt;tls_config&gt;</span> ]</span><br></pre></td></tr></table></figure><p>如果自己提供的接口不用验证身份，那么只需要配置url和刷新频率即可；</p><h2 id="实战"><a href="#实战" class="headerlink" title="实战"></a>实战</h2><p><strong>前提：</strong></p><ul><li>已经部署好了prometheus和各exporter的节点</li><li>其中prometheus最好是最新版（2.30版本及以前的版本好像不支持）</li></ul><h3 id="开发动态获取服务的接口"><a href="#开发动态获取服务的接口" class="headerlink" title="开发动态获取服务的接口"></a>开发动态获取服务的接口</h3><p>我这里用的java开发的一个后端程序，controller的代码如下：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;/prometheus&quot;)</span></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">PrometheusController</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GetMapping(&quot;/getTarget&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getTarget</span><span class="params">()</span></span>&#123;</span><br><span class="line">        List exporterList = <span class="keyword">new</span> ArrayList();</span><br><span class="line">        Map target = <span class="keyword">new</span> HashMap();</span><br><span class="line">        <span class="comment">// 服务节点地址</span></span><br><span class="line">        List targetList = <span class="keyword">new</span> ArrayList();</span><br><span class="line">        targetList.add(<span class="string">&quot;172.18.40.40:9100&quot;</span>);</span><br><span class="line">        targetList.add(<span class="string">&quot;172.18.40.91:9100&quot;</span>);</span><br><span class="line">        <span class="comment">// 标签</span></span><br><span class="line">        Map labelsMap = <span class="keyword">new</span> HashMap();</span><br><span class="line">        labelsMap.put(<span class="string">&quot;acc&quot;</span> , <span class="string">&quot;acc1&quot;</span>);</span><br><span class="line">        labelsMap.put(<span class="string">&quot;uuid&quot;</span> , <span class="string">&quot;123123&quot;</span>);</span><br><span class="line"></span><br><span class="line">        target.put(<span class="string">&quot;targets&quot;</span> , targetList);</span><br><span class="line">        target.put(<span class="string">&quot;labels&quot;</span> , labelsMap);</span><br><span class="line"></span><br><span class="line">        exporterList.add(target);</span><br><span class="line">        <span class="keyword">return</span> JSONObject.toJSONString(exporterList);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>在浏览器中，访问该接口，查看返回的数据如下：</p><p><img src="image-20211222184806273.png" alt="image-20211222184806273"></p><h3 id="修改prometheus的配置"><a href="#修改prometheus的配置" class="headerlink" title="修改prometheus的配置"></a>修改prometheus的配置</h3><p>prometheus的配置如下：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">scrape_configs:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">job_name:</span> <span class="string">&#x27;test-node&#x27;</span></span><br><span class="line">    <span class="attr">http_sd_configs:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">url:</span> <span class="string">http://172.26.62.xx:12000/prometheus/getTarget</span></span><br><span class="line">        <span class="attr">refresh_interval:</span> <span class="string">5s</span></span><br></pre></td></tr></table></figure><blockquote><p>配置说明：</p><p><a href="http://172.26.62.xx:12000/prometheus/getTarget%EF%BC%9A%E8%AF%A5%E5%9C%B0%E5%9D%80%E6%98%AF%E5%90%8E%E7%AB%AF%E7%A8%8B%E5%BA%8F%E6%8F%90%E4%BE%9B%E7%9A%84">http://172.26.62.xx:12000/prometheus/getTarget：该地址是后端程序提供的</a></p></blockquote><p>修改完prometheus的配置后，重启prometheus或调用prometheus的reload的接口(<a href="http://ip:port/-/reload">http://ip:port/-/reload</a>)</p><h3 id="检查"><a href="#检查" class="headerlink" title="检查"></a>检查</h3><p>访问prometheus的界面，查看我后端接口提供的服务是否被发现</p><p><img src="image-20211222184910138.png" alt="image-20211222184910138"></p><p>可以发现，prometheus已经成功监控到了提供的服务；</p><h3 id="测试"><a href="#测试" class="headerlink" title="测试"></a>测试</h3><p>修改接口提供的数据，在不重启和不重新加载prometheus的情况下，观察prometheus会不会变化监控的节点</p><ol><li>我在后端服务接口中，添加了一个不存在的节点</li></ol><p><img src="image-20211222185422933.png" alt="image-20211222185422933"></p><ol start="2"><li>等待几秒钟后，可以发现prometheus发现了该节点，但还没有去访问该节点去获取监控数据，因此状态为UNKNOWN</li></ol><p><img src="image-20211222185438507.png" alt="image-20211222185438507"></p><ol start="3"><li>在等几秒，prometheus去访问该几点时，发现服务是不存在的，调整状态为DOWN</li></ol><p><img src="image-20211222185501042.png" alt="image-20211222185501042"></p><ol start="4"><li>从prometheus的日志也可以看出，每隔 5s 就掉一次我的后端服务</li></ol><p><img src="image-20211222191259320.png" alt="image-20211222191259320"></p>]]></content>
      
      
      <categories>
          
          <category> prometheus </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 云监控 </tag>
            
            <tag> 云计算 </tag>
            
            <tag> prometheus </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Nginx访问限制配置</title>
      <link href="/2021/12/15/Nginx%E8%AE%BF%E9%97%AE%E9%99%90%E5%88%B6%E9%85%8D%E7%BD%AE/"/>
      <url>/2021/12/15/Nginx%E8%AE%BF%E9%97%AE%E9%99%90%E5%88%B6%E9%85%8D%E7%BD%AE/</url>
      
        <content type="html"><![CDATA[<h1 id="限制下载速度"><a href="#限制下载速度" class="headerlink" title="限制下载速度"></a>限制下载速度</h1><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">location xxx &#123;</span><br><span class="line">            limit_rate 100k;</span><br><span class="line">...</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure><p><img src="image-20220107120229415.png" alt="image-20220107120229415"></p><p>重启nginx后，可以发现下载速度，确实被限制在 100k/s 左右</p><p><img src="image-20220107120250231.png" alt="image-20220107120250231"></p><h1 id="限制并发数"><a href="#限制并发数" class="headerlink" title="限制并发数"></a>限制并发数</h1><p>添加如下两行参数</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">http&#123;</span><br><span class="line">limit_conn_zone $binary_remote_addr zone=one:10m;</span><br><span class="line">...</span><br><span class="line">service&#123;</span><br><span class="line">...</span><br><span class="line">location xxx&#123;</span><br><span class="line">limit_conn one <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="image-20220107120309413.png" alt="image-20220107120309413"></p>]]></content>
      
      
      
        <tags>
            
            <tag> nginx </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
